{
  "id": "sqrt-x",
  "title": "Square Root of a Number",
  "difficulty": "easy",
  "pattern": "binary-search",
  "language": "javascript",
  "quality": "PERFECT",
  "version": "v1.0-fixed",
  "flow": [
    {
      "stepId": "problem-statement",
      "mentorSays": "You are given a **non-negative number x**.\n\nYour task is to find the **integer square root** of x.\n\nThat means:\n• Find a number whose square is **less than or equal to x**\n• Return only the integer part (ignore decimals)",
      "example": "x = 8",
      "action": "next"
    },
    {
      "stepId": "tiny-examples",
      "mentorSays": "Let’s look at very small examples.\n\nx = 4 → square root is 2\nx = 9 → square root is 3\nx = 8 → square root is 2 (because 2×2=4 and 3×3=9 is too big)",
      "action": "next"
    },
    {
      "stepId": "clarify-goal",
      "mentorSays": "Important clarification:\n\nWe are **NOT** trying to find an exact decimal value.\n\nWe only care about the **largest integer** whose square does not exceed x.",
      "action": "next"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Pause and think.\n\nIf x is very large (say a billion), would checking every number from 1 upward be efficient?",
      "choices": [
        {
          "label": "Yes, checking one by one is fine",
          "next": "bruteforce-discussion"
        },
        {
          "label": "No, that would be too slow",
          "next": "bruteforce-discussion"
        }
      ]
    },
    {
      "stepId": "bruteforce-discussion",
      "mentorSays": "Correct.\n\nA brute force approach would:\n• Try 1×1, 2×2, 3×3...\n• Stop when the square becomes larger than x\n\nThis works, but it can be **very slow** for large x.",
      "action": "next"
    },
    {
      "stepId": "key-observation",
      "mentorSays": "Here is the key observation:\n\nIf you square larger numbers, the result grows quickly.\n\nSo instead of checking one by one, we can **search smartly**.",
      "action": "next"
    },
    {
      "stepId": "introduce-binary-search",
      "mentorSays": "We can use **binary search**.\n\nWhy?\n• The possible answers range from 0 to x\n• The correct square root lies somewhere in the middle\n• We can eliminate half the range each time",
      "action": "next"
    },
    {
      "stepId": "binary-search-walkthrough",
      "mentorSays": "Example: x = 8\n\nSearch range: 0 to 8\n\n1. Pick middle = 4 → 4×4 = 16 (too big)\n2. Reduce range to 0–3\n3. Pick middle = 1 → 1×1 = 1 (too small)\n4. Pick middle = 2 → 2×2 = 4 (valid)\n5. Try higher but stay within range\n\nFinal answer = 2",
      "action": "next"
    },
    {
      "stepId": "logic-summary",
      "mentorSays": "So the logic is:\n\n• Maintain a search range\n• Pick a middle number\n• Square it\n• Compare with x\n• Adjust range accordingly\n• Track the last valid answer",
      "action": "next"
    },
    {
      "stepId": "pseudocode",
      "mentorSays": "Let’s write this as steps — no JavaScript yet.",
      "pseudocode": [
        "if x is 0 or 1, return x",
        "set left = 1, right = x",
        "set answer = 0",
        "while left <= right:",
        "  mid = floor((left + right) / 2)",
        "  if mid * mid <= x:",
        "    answer = mid",
        "    move left to mid + 1",
        "  else:",
        "    move right to mid - 1",
        "return answer"
      ],
      "action": "next"
    },
    {
      "stepId": "coding-js",
      "mentorSays": "Now convert the logic into JavaScript.",
      "code": "function mySqrt(x) {\n  if (x === 0 || x === 1) return x;\n\n  let left = 1;\n  let right = x;\n  let answer = 0;\n\n  while (left <= right) {\n    const mid = Math.floor((left + right) / 2);\n    const square = mid * mid;\n\n    if (square <= x) {\n      answer = mid;\n      left = mid + 1;\n    } else {\n      right = mid - 1;\n    }\n  }\n\n  return answer;\n}",
      "action": "next"
    },
    {
      "stepId": "final-check",
      "mentorSays": "Final check:\n\nx = 8 → output = 2\nx = 16 → output = 4\nx = 1 → output = 1\n\nWorks correctly for all cases.",
      "action": "complete"
    }
  ]
}
