{
  "id": "four-sum",
  "title": "4Sum",
  "pattern": "two-pointers",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what the 4Sum problem asks for\n2. Use sorting and two pointers to find quadruplets efficiently\n3. Avoid duplicate quadruplets in the result\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the 4Sum problem is asking.\n\nGiven an array of integers `nums` and an integer `target`, find all unique quadruplets (four numbers) that add up to `target`.\n\n**Example 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\n\nYour task: Find all unique quadruplets [a, b, c, d] such that a + b + c + d = target\n\nLet's find them:\n- Quadruplet 1: [-2, -1, 1, 2] → -2 + (-1) + 1 + 2 = 0 ✓\n- Quadruplet 2: [-2, 0, 0, 2] → -2 + 0 + 0 + 2 = 0 ✓\n- Quadruplet 3: [-1, 0, 0, 1] → -1 + 0 + 0 + 1 = 0 ✓\n\n**Example 2:** nums = [2, 2, 2, 2, 2], target = 8\n\nQuadruplet: [2, 2, 2, 2] → 2 + 2 + 2 + 2 = 8 ✓\n\n**Important:** The result should contain unique quadruplets only. Even if the same number appears multiple times, we should list each unique combination only once.\n\n**Step-by-step approach:**\n1. Sort the array first (this helps us avoid duplicates and use two pointers)\n2. Use two nested loops to fix the first two numbers\n3. Use two pointers to find pairs in the remaining array that sum to target - (first + second)\n4. Skip duplicates to avoid duplicate quadruplets\n\nSorted: [-2, -1, 0, 0, 1, 2], target = 0\n\n- Fix -2, -1: Need remaining sum = 0 - (-2) - (-1) = 3\n  - Search in [0, 0, 1, 2] with two pointers\n  - Found: (1, 2) → [-2, -1, 1, 2] ✓\n- Fix -2, 0: Need remaining sum = 0 - (-2) - 0 = 2\n  - Found: (0, 2) → [-2, 0, 0, 2] ✓\n- Fix -1, 0: Need remaining sum = 0 - (-1) - 0 = 1\n  - Found: (0, 1) → [-1, 0, 0, 1] ✓\n\nResult: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]",
      "example": "Example 1:\nnums = [1, 0, -1, 0, -2, 2], target = 0\n\nSorted: [-2, -1, 0, 0, 1, 2]\n\nFind quadruplets that sum to 0:\n\nFix -2, -1: Need remaining = 3\n  Search in [0, 0, 1, 2]\n  Found: (1, 2) → [-2, -1, 1, 2] ✓\n\nFix -2, 0: Need remaining = 2\n  Found: (0, 2) → [-2, 0, 0, 2] ✓\n\nFix -1, 0: Need remaining = 1\n  Found: (0, 1) → [-1, 0, 0, 1] ✓\n\nResult: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\nExample 2:\nnums = [2, 2, 2, 2, 2], target = 8\n\nResult: [[2, 2, 2, 2]]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU find all quadruplets that sum to target?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Use four nested loops to check all quadruplets",
          "next": "explore-nested-loops"
        },
        {
          "label": "Sort first, then fix one number and use two pointers for the rest",
          "next": "explore-sort-two-pointers"
        },
        {
          "label": "Use hash map to store complements",
          "next": "explore-hashmap"
        }
      ]
    },
    {
      "stepId": "explore-nested-loops",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll check every possible quadruplet to see if they sum to target.\"\n\nFor nums = [-1, 0, 1, 2, -1, -4]:\n- Check all combinations: (-1,0,1), (-1,0,2), ...\n- Found: (-1, 0, 1) and (-1, -1, 2) ✓\n\nThis works! However, it takes O(n³) time and requires careful duplicate handling.\n\nThere's a more efficient O(n³) approach using sorting and two pointers. Would you like to learn that?",
      "action": "continue",
      "next": "explore-sort-two-pointers"
    },
    {
      "stepId": "explore-hashmap",
      "mentorSays": "That's a creative approach! You're thinking: \"I'll use a hash map to store complements.\"\n\nThis can work, but handling duplicates becomes complex, and it's still O(n³) time.\n\nThere's a cleaner O(n³) approach using sorting and two pointers that naturally handles duplicates. Would you like to learn that?",
      "action": "continue",
      "next": "explore-sort-two-pointers"
    },
    {
      "stepId": "explore-sort-two-pointers",
      "mentorSays": "Excellent choice! The sort + two nested loops + two pointers approach is both efficient and elegant. Here's the core idea:\n\n**The Algorithm:**\n1. **Sort the array** (this helps us avoid duplicates and use two pointers)\n2. **For each first number** (outer loop, index i):\n   - Skip duplicates for the first number\n   - **For each second number** (inner loop, index j, starting from i+1):\n     - Skip duplicates for the second number\n     - Use two pointers (left = j+1, right = end) to find pairs in the remaining array\n     - Calculate remaining = target - nums[i] - nums[j]\n     - If nums[left] + nums[right] == remaining: Found a quadruplet!\n     - If nums[left] + nums[right] < remaining: Move left pointer right (need larger sum)\n     - If nums[left] + nums[right] > remaining: Move right pointer left (need smaller sum)\n     - Skip duplicates for left and right pointers\n3. **Return all unique quadruplets**\n\n**Why it works**: Sorting allows us to:\n- Use two pointers efficiently (move based on sum comparison)\n- Skip duplicates easily (just check if current == previous)\n- Fix two numbers with nested loops, then use two pointers for the remaining two\n\nLet's trace with nums = [1, 0, -1, 0, -2, 2], target = 0:\n\nSorted: [-2, -1, 0, 0, 1, 2]\n\n- **i = 0, j = 1**: Fix -2, -1, remaining = 0 - (-2) - (-1) = 3\n  - left = 2, right = 5\n  - Sum = 0 + 2 = 2 < 3, move left\n  - Sum = 0 + 2 = 2 < 3, move left\n  - Sum = 1 + 2 = 3 == 3 ✓ Found! Add [-2, -1, 1, 2]\n\n- **i = 0, j = 2**: Fix -2, 0, remaining = 0 - (-2) - 0 = 2\n  - left = 3, right = 5\n  - Sum = 0 + 2 = 2 == 2 ✓ Found! Add [-2, 0, 0, 2]\n\n- **i = 1, j = 2**: Fix -1, 0, remaining = 0 - (-1) - 0 = 1\n  - left = 3, right = 5\n  - Sum = 0 + 2 = 2 > 1, move right\n  - Sum = 0 + 1 = 1 == 1 ✓ Found! Add [-1, 0, 0, 1]\n\nResult: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]] ✓\n\nThis is O(n³) time! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'result' or 'left') and put data inside it.\n\nFor example, 'let result = [];' creates a variable that stores an empty array. Later, you can use that variable name to refer to it.",
      "example": "let result = [];\nlet left = 0;\nlet right = nums.length - 1;\n\nNow these variables store values\nWe can use them in our algorithm",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function fourSum(nums)', the 'nums' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'fourSum([-1, 0, 1, 2, -1, -4])', the array goes into 'nums'.",
      "example": "function fourSum(nums) {\n  // 'nums' is a parameter\n}\n\n// When we call it:\nfourSum([-1, 0, 1, 2, -1, -4]);\n// The array goes into 'nums'",
      "action": "continue",
      "next": "array-check-js"
    },
    {
      "stepId": "array-check-js",
      "mentorSays": "To solve this problem, we'll need to work with arrays. Do you know what an array is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-explanation-js",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0, not 1.\n\nFor example, nums = [-1, 0, 1, 2] means:\n- nums[0] = -1 (first element, index 0)\n- nums[1] = 0 (second element, index 1)\n- nums[2] = 1 (third element, index 2)\n- nums[3] = 2 (fourth element, index 3)",
      "example": "let nums = [-1, 0, 1, 2];\n\nnums[0] = -1\nnums[1] = 0\nnums[2] = 1\nnums[3] = 2",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < nums.length; i++)' means: start at 0, keep going while i is less than the array length, and add 1 to i each time.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the 4Sum solution in JavaScript. We'll create a function that takes an array and a target, and returns all unique quadruplets that sum to target.",
      "example": "function fourSum(nums, target) {\n  \n}",
      "action": "continue",
      "next": "coding-sort-js"
    },
    {
      "stepId": "coding-sort-js",
      "mentorSays": "First, let's sort the array. This helps us use two pointers and avoid duplicates.",
      "example": "function fourSum(nums, target) {\n  // Sort the array first\n  nums.sort((a, b) => a - b);\n  \n  let result = [];\n}",
      "action": "continue",
      "next": "coding-outer-loop-js"
    },
    {
      "stepId": "coding-outer-loop-js",
      "mentorSays": "Now, let's create an outer loop to fix the first number. We'll iterate through the array, but skip the last three elements (since we need at least 4 numbers).",
      "example": "function fourSum(nums, target) {\n  nums.sort((a, b) => a - b);\n  let result = [];\n  \n  // Fix the first number\n  for (let i = 0; i < nums.length - 3; i++) {\n    // Skip duplicates for the first number\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-init-pointers-js"
    },
    {
      "stepId": "coding-init-pointers-js",
      "mentorSays": "Inside the outer loop, create an inner loop to fix the second number. We'll iterate starting from i+1, but skip the last two elements.",
      "example": "function fourSum(nums, target) {\n  nums.sort((a, b) => a - b);\n  let result = [];\n  \n  for (let i = 0; i < nums.length - 3; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    // Fix the second number\n    for (let j = i + 1; j < nums.length - 2; j++) {\n      // Skip duplicates for the second number\n      if (j > i + 1 && nums[j] === nums[j - 1]) {\n        continue;\n      }\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-two-pointers-loop-js"
    },
    {
      "stepId": "coding-two-pointers-loop-js",
      "mentorSays": "Inside the inner loop, initialize two pointers: left starts right after j, and right starts at the end of the array. Calculate the remaining sum we need.",
      "example": "function fourSum(nums, target) {\n  nums.sort((a, b) => a - b);\n  let result = [];\n  \n  for (let i = 0; i < nums.length - 3; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    for (let j = i + 1; j < nums.length - 2; j++) {\n      if (j > i + 1 && nums[j] === nums[j - 1]) {\n        continue;\n      }\n      \n      // Initialize two pointers and calculate remaining\n      let left = j + 1;\n      let right = nums.length - 1;\n      let remaining = target - nums[i] - nums[j];\n      \n      // Use two pointers to find pairs\n      while (left < right) {\n        let sum = nums[left] + nums[right];\n        // Check sum logic here\n      }\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-check-sum-js"
    },
    {
      "stepId": "coding-check-sum-js",
      "mentorSays": "Inside the while loop, check if the sum of the two pointers equals the remaining. If it does, we found a quadruplet! Add it to the result and move both pointers (skipping duplicates).",
      "example": "function fourSum(nums, target) {\n  nums.sort((a, b) => a - b);\n  let result = [];\n  \n  for (let i = 0; i < nums.length - 3; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    for (let j = i + 1; j < nums.length - 2; j++) {\n      if (j > i + 1 && nums[j] === nums[j - 1]) {\n        continue;\n      }\n      \n      let left = j + 1;\n      let right = nums.length - 1;\n      let remaining = target - nums[i] - nums[j];\n      \n      while (left < right) {\n        let sum = nums[left] + nums[right];\n        \n        if (sum === remaining) {\n          // Found a quadruplet!\n          result.push([nums[i], nums[j], nums[left], nums[right]]);\n          \n          // Skip duplicates\n          while (left < right && nums[left] === nums[left + 1]) left++;\n          while (left < right && nums[right] === nums[right - 1]) right--;\n          \n          left++;\n          right--;\n        }\n      }\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-adjust-pointers-js"
    },
    {
      "stepId": "coding-adjust-pointers-js",
      "mentorSays": "If the sum is not equal to remaining, adjust the pointers based on whether the sum is too small or too large.",
      "example": "function fourSum(nums, target) {\n  nums.sort((a, b) => a - b);\n  let result = [];\n  \n  for (let i = 0; i < nums.length - 3; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    for (let j = i + 1; j < nums.length - 2; j++) {\n      if (j > i + 1 && nums[j] === nums[j - 1]) {\n        continue;\n      }\n      \n      let left = j + 1;\n      let right = nums.length - 1;\n      let remaining = target - nums[i] - nums[j];\n      \n      while (left < right) {\n        let sum = nums[left] + nums[right];\n        \n        if (sum === remaining) {\n          result.push([nums[i], nums[j], nums[left], nums[right]]);\n          while (left < right && nums[left] === nums[left + 1]) left++;\n          while (left < right && nums[right] === nums[right - 1]) right--;\n          left++;\n          right--;\n        } else if (sum < remaining) {\n          // Sum is too small, move left pointer right\n          left++;\n        } else {\n          // Sum is too large, move right pointer left\n          right--;\n        }\n      }\n    }\n  }\n  \n  return result;\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with multiple test cases:\n\n**Test 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\nExpected: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\n**Test 2:** nums = [2, 2, 2, 2, 2], target = 8\nExpected: [[2, 2, 2, 2]]\n\n**Test 3:** nums = [0, 0, 0, 0], target = 0\nExpected: [[0, 0, 0, 0]]\n\n**Test 4:** nums = [1, 2, 3, 4], target = 10\nExpected: [[1, 2, 3, 4]]\n\n**Test 5:** nums = [-1, 0, 1, 2, -1, -4], target = -1\nExpected: [[-4, 0, 1, 2], [-1, -1, 0, 1]]\n\nTry these in your IDE or code editor!",
      "example": "Test 1: [1,0,-1,0,-2,2], target=0 → [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]\nTest 2: [2,2,2,2,2], target=8 → [[2,2,2,2]]\nTest 3: [0,0,0,0], target=0 → [[0,0,0,0]]\nTest 4: [1,2,3,4], target=10 → [[1,2,3,4]]\nTest 5: [-1,0,1,2,-1,-4], target=-1 → [[-4,0,1,2],[-1,-1,0,1]]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'result' or 'left') and put data inside it.\n\nFor example, 'result = []' creates a variable that stores an empty list. Later, you can use that variable name to refer to it.",
      "example": "result = []\nleft = 0\nright = len(nums) - 1\n\nNow these variables store values\nWe can use them in our algorithm",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'def four_sum(nums):', the 'nums' is a parameter - it's a placeholder that will receive an actual list when you call the function.\n\nWhen you call 'four_sum([-1, 0, 1, 2, -1, -4])', the list goes into 'nums'.",
      "example": "def four_sum(nums):\n  # 'nums' is a parameter\n\n# When we call it:\nfour_sum([-1, 0, 1, 2, -1, -4])\n# The list goes into 'nums'",
      "action": "continue",
      "next": "array-check-python"
    },
    {
      "stepId": "array-check-python",
      "mentorSays": "To solve this problem, we'll need to work with lists. Do you know what a list is in Python?",
      "choices": [
        {
          "label": "Yes, I know lists",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain lists",
          "next": "array-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-explanation-python",
      "mentorSays": "A list is like an ordered collection of items. Each item has a position number called an 'index'. List indices start counting from 0, not 1.\n\nFor example, nums = [-1, 0, 1, 2] means:\n- nums[0] = -1 (first element, index 0)\n- nums[1] = 0 (second element, index 1)\n- nums[2] = 1 (third element, index 2)\n- nums[3] = 2 (fourth element, index 3)",
      "example": "nums = [-1, 0, 1, 2]\n\nnums[0] = -1\nnums[1] = 0\nnums[2] = 1\nnums[3] = 2",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-python"
        }
      ]
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, 'for i in range(len(nums)):' means: run the code for each index from 0 to the length of nums.",
      "example": "for i in range(3):\n    print(i)\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the 4Sum solution in Python. We'll create a function that takes a list and returns all unique quadruplets that sum to target.",
      "example": "def four_sum(nums, target):\n    \n    pass",
      "action": "continue",
      "next": "coding-sort-python"
    },
    {
      "stepId": "coding-sort-python",
      "mentorSays": "First, let's sort the list. This helps us use two pointers and avoid duplicates.",
      "example": "def four_sum(nums, target):\n    # Sort the list first\n    nums.sort()\n    \n    result = []\n    \n    pass",
      "action": "continue",
      "next": "coding-outer-loop-python"
    },
    {
      "stepId": "coding-outer-loop-python",
      "mentorSays": "Now, let's create an outer loop to fix the first number. We'll iterate through the list, but skip the last three elements (since we need at least 4 numbers).",
      "example": "def four_sum(nums, target):\n    nums.sort()\n    result = []\n    \n    # Fix the first number\n    for i in range(len(nums) - 3):\n        # Skip duplicates for the first number\n        if i > 0 and nums[i] == nums[i - 1]:\n            continue\n        \n        pass",
      "action": "continue",
      "next": "coding-init-pointers-python"
    },
    {
      "stepId": "coding-init-pointers-python",
      "mentorSays": "Inside the outer loop, create an inner loop to fix the second number. We'll iterate starting from i+1, but skip the last two elements.",
      "example": "def four_sum(nums, target):\n    nums.sort()\n    result = []\n    \n    for i in range(len(nums) - 3):\n        if i > 0 and nums[i] == nums[i - 1]:\n            continue\n        \n        # Fix the second number\n        for j in range(i + 1, len(nums) - 2):\n            # Skip duplicates for the second number\n            if j > i + 1 and nums[j] == nums[j - 1]:\n                continue\n            \n            pass",
      "action": "continue",
      "next": "coding-two-pointers-loop-python"
    },
    {
      "stepId": "coding-two-pointers-loop-python",
      "mentorSays": "Inside the inner loop, initialize two pointers: left starts right after j, and right starts at the end of the list. Calculate the remaining sum we need.",
      "example": "def four_sum(nums, target):\n    nums.sort()\n    result = []\n    \n    for i in range(len(nums) - 3):\n        if i > 0 and nums[i] == nums[i - 1]:\n            continue\n        \n        for j in range(i + 1, len(nums) - 2):\n            if j > i + 1 and nums[j] == nums[j - 1]:\n                continue\n            \n            # Initialize two pointers and calculate remaining\n            left = j + 1\n            right = len(nums) - 1\n            remaining = target - nums[i] - nums[j]\n            \n            # Use two pointers to find pairs\n            while left < right:\n                sum_val = nums[left] + nums[right]\n                # Check sum logic here\n                pass",
      "action": "continue",
      "next": "coding-check-sum-python"
    },
    {
      "stepId": "coding-check-sum-python",
      "mentorSays": "Inside the while loop, check if the sum of the two pointers equals the remaining. If it does, we found a quadruplet! Add it to the result and move both pointers (skipping duplicates).",
      "example": "def four_sum(nums, target):\n    nums.sort()\n    result = []\n    \n    for i in range(len(nums) - 3):\n        if i > 0 and nums[i] == nums[i - 1]:\n            continue\n        \n        for j in range(i + 1, len(nums) - 2):\n            if j > i + 1 and nums[j] == nums[j - 1]:\n                continue\n            \n            left = j + 1\n            right = len(nums) - 1\n            remaining = target - nums[i] - nums[j]\n            \n            while left < right:\n                sum_val = nums[left] + nums[right]\n                \n                if sum_val == remaining:\n                    # Found a quadruplet!\n                    result.append([nums[i], nums[j], nums[left], nums[right]])\n                    \n                    # Skip duplicates\n                    while left < right and nums[left] == nums[left + 1]:\n                        left += 1\n                    while left < right and nums[right] == nums[right - 1]:\n                        right -= 1\n                    \n                    left += 1\n                    right -= 1\n                \n                pass",
      "action": "continue",
      "next": "coding-adjust-pointers-python"
    },
    {
      "stepId": "coding-adjust-pointers-python",
      "mentorSays": "If the sum is not equal to remaining, adjust the pointers based on whether the sum is too small or too large.",
      "example": "def four_sum(nums, target):\n    nums.sort()\n    result = []\n    \n    for i in range(len(nums) - 3):\n        if i > 0 and nums[i] == nums[i - 1]:\n            continue\n        \n        for j in range(i + 1, len(nums) - 2):\n            if j > i + 1 and nums[j] == nums[j - 1]:\n                continue\n            \n            left = j + 1\n            right = len(nums) - 1\n            remaining = target - nums[i] - nums[j]\n            \n            while left < right:\n                sum_val = nums[left] + nums[right]\n                \n                if sum_val == remaining:\n                    result.append([nums[i], nums[j], nums[left], nums[right]])\n                    while left < right and nums[left] == nums[left + 1]:\n                        left += 1\n                    while left < right and nums[right] == nums[right - 1]:\n                        right -= 1\n                    left += 1\n                    right -= 1\n                elif sum_val < remaining:\n                    # Sum is too small, move left pointer right\n                    left += 1\n                else:\n                    # Sum is too large, move right pointer left\n                    right -= 1\n    \n    return result",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with multiple test cases:\n\n**Test 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\nExpected: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\n**Test 2:** nums = [2, 2, 2, 2, 2], target = 8\nExpected: [[2, 2, 2, 2]]\n\n**Test 3:** nums = [0, 0, 0, 0], target = 0\nExpected: [[0, 0, 0, 0]]\n\n**Test 4:** nums = [1, 2, 3, 4], target = 10\nExpected: [[1, 2, 3, 4]]\n\n**Test 5:** nums = [-1, 0, 1, 2, -1, -4], target = -1\nExpected: [[-4, 0, 1, 2], [-1, -1, 0, 1]]\n\nTry these in your IDE or code editor!",
      "example": "Test 1: [1,0,-1,0,-2,2], target=0 → [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]\nTest 2: [2,2,2,2,2], target=8 → [[2,2,2,2]]\nTest 3: [0,0,0,0], target=0 → [[0,0,0,0]]\nTest 4: [1,2,3,4], target=10 → [[1,2,3,4]]\nTest 5: [-1,0,1,2,-1,-4], target=-1 → [[-4,0,1,2],[-1,-1,0,1]]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'result' or 'left') and put data inside it.\n\nFor example, 'List<List<Integer>> result = new ArrayList<>();' creates a variable that stores an empty list. Later, you can use that variable name to refer to it.",
      "example": "List<List<Integer>> result = new ArrayList<>();\nint left = 0;\nint right = nums.length - 1;\n\nNow these variables store values\nWe can use them in our algorithm",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method (Java's version of a function) is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the method does the work, and gives you a result (return value).",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "When we write a method, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the method. When you write 'public List<List<Integer>> fourSum(int[] nums)', the 'nums' is a parameter - it's a placeholder that will receive an actual array when you call the method.\n\nWhen you call 'fourSum(new int[]{-1, 0, 1, 2, -1, -4})', the array goes into 'nums'.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n  // 'nums' is a parameter\n}\n\n// When we call it:\nfourSum(new int[]{-1, 0, 1, 2, -1, -4});\n// The array goes into 'nums'",
      "action": "continue",
      "next": "array-check-java"
    },
    {
      "stepId": "array-check-java",
      "mentorSays": "To solve this problem, we'll need to work with arrays. Do you know what an array is in Java?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-explanation-java",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0, not 1.\n\nFor example, int[] nums = {-1, 0, 1, 2} means:\n- nums[0] = -1 (first element, index 0)\n- nums[1] = 0 (second element, index 1)\n- nums[2] = 1 (third element, index 2)\n- nums[3] = 2 (fourth element, index 3)",
      "example": "int[] nums = {-1, 0, 1, 2};\n\nnums[0] = -1\nnums[1] = 0\nnums[2] = 1\nnums[3] = 2",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-java"
        }
      ]
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < nums.length; i++)' means: start at 0, keep going while i is less than the array length, and add 1 to i each time.",
      "example": "for (int i = 0; i < 3; i++) {\n    System.out.println(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the 4Sum solution in Java. We'll create a method that takes an array and returns all unique quadruplets that sum to target.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    \n}",
      "action": "continue",
      "next": "coding-sort-java"
    },
    {
      "stepId": "coding-sort-java",
      "mentorSays": "First, let's sort the array. This helps us use two pointers and avoid duplicates.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    // Sort the array first\n    Arrays.sort(nums);\n    \n    List<List<Integer>> result = new ArrayList<>();\n}",
      "action": "continue",
      "next": "coding-outer-loop-java"
    },
    {
      "stepId": "coding-outer-loop-java",
      "mentorSays": "Now, let's create an outer loop to fix the first two numbers. We'll iterate through the array, but skip the last two elements (since we need at least 3 numbers).",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    Arrays.sort(nums);\n    List<List<Integer>> result = new ArrayList<>();\n    \n    // Fix the first number\n    for (int i = 0; i < nums.length - 3; i++) { {\n        // Skip duplicates for the fixed number\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-init-pointers-java"
    },
    {
      "stepId": "coding-init-pointers-java",
      "mentorSays": "Inside the loop, initialize two pointers: left starts right after i, and right starts at the end of the array.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    Arrays.sort(nums);\n    List<List<Integer>> result = new ArrayList<>();\n    \n    for (int i = 0; i < nums.length - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        // Initialize two pointers\n        int left = i + 1;\n        int right = nums.length - 1;\n    }\n}",
      "action": "continue",
      "next": "coding-two-pointers-loop-java"
    },
    {
      "stepId": "coding-two-pointers-loop-java",
      "mentorSays": "Now, create a while loop that continues as long as left < right. Inside, we'll check if the four numbers sum to target.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    Arrays.sort(nums);\n    List<List<Integer>> result = new ArrayList<>();\n    \n    for (int i = 0; i < nums.length - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.length - 1;\n        \n        // Use two pointers to find pairs\n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            // Check sum logic here\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-check-sum-java"
    },
    {
      "stepId": "coding-check-sum-java",
      "mentorSays": "Inside the while loop, check the sum. If it equals 0, we found a quadruplet! Add it to the result and move both pointers (skipping duplicates).",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    Arrays.sort(nums);\n    List<List<Integer>> result = new ArrayList<>();\n    \n    for (int i = 0; i < nums.length - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.length - 1;\n        \n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            \n            if (sum == 0) {\n                // Found a quadruplet!\n                result.add(Arrays.asList(nums[i], nums[j], nums[left], nums[right]));\n                \n                // Skip duplicates\n                while (left < right && nums[left] == nums[left + 1]) left++;\n                while (left < right && nums[right] == nums[right - 1]) right--;\n                \n                left++;\n                right--;\n            }\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-adjust-pointers-java"
    },
    {
      "stepId": "coding-adjust-pointers-java",
      "mentorSays": "If the sum is not zero, adjust the pointers based on whether the sum is too small or too large.",
      "example": "public List<List<Integer>> fourSum(int[] nums) {\n    Arrays.sort(nums);\n    List<List<Integer>> result = new ArrayList<>();\n    \n    for (int i = 0; i < nums.length - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.length - 1;\n        \n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            \n            if (sum == 0) {\n                result.add(Arrays.asList(nums[i], nums[j], nums[left], nums[right]));\n                while (left < right && nums[left] == nums[left + 1]) left++;\n                while (left < right && nums[right] == nums[right - 1]) right--;\n                left++;\n                right--;\n            } else if (sum < 0) {\n                // Sum is too small, move left pointer right\n                left++;\n            } else {\n                // Sum is too large, move right pointer left\n                right--;\n            }\n        }\n    }\n    \n    return result;\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with multiple test cases:\n\n**Test 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\nExpected: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\n**Test 2:** nums = [2, 2, 2, 2, 2], target = 8\nExpected: [[2, 2, 2, 2]]\n\n**Test 3:** nums = [0, 0, 0, 0], target = 0\nExpected: [[0, 0, 0, 0]]\n\n**Test 4:** nums = [1, 2, 3, 4], target = 10\nExpected: [[1, 2, 3, 4]]\n\n**Test 5:** nums = [-1, 0, 1, 2, -1, -4], target = -1\nExpected: [[-4, 0, 1, 2], [-1, -1, 0, 1]]\n\nTry these in your IDE or code editor!",
      "example": "Test 1: [1,0,-1,0,-2,2], target=0 → [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]\nTest 2: [2,2,2,2,2], target=8 → [[2,2,2,2]]\nTest 3: [0,0,0,0], target=0 → [[0,0,0,0]]\nTest 4: [1,2,3,4], target=10 → [[1,2,3,4]]\nTest 5: [-1,0,1,2,-1,-4], target=-1 → [[-4,0,1,2],[-1,-1,0,1]]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'result' or 'left') and put data inside it.\n\nFor example, 'vector<vector<int>> result;' creates a variable that stores an empty vector of vectors. Later, you can use that variable name to refer to it.",
      "example": "vector<vector<int>> result;\nint left = 0;\nint right = nums.size() - 1;\n\nNow these variables store values\nWe can use them in our algorithm",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'vector<vector<int>> fourSum(vector<int>& nums)', the 'nums' is a parameter - it's a placeholder that will receive an actual vector when you call the function.\n\nWhen you call 'fourSum({-1, 0, 1, 2, -1, -4})', the vector goes into 'nums'.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n  // 'nums' is a parameter\n}\n\n// When we call it:\nfourSum({-1, 0, 1, 2, -1, -4});\n// The vector goes into 'nums'",
      "action": "continue",
      "next": "array-check-cpp"
    },
    {
      "stepId": "array-check-cpp",
      "mentorSays": "To solve this problem, we'll need to work with vectors (arrays). Do you know what a vector is in C++?",
      "choices": [
        {
          "label": "Yes, I know vectors",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain vectors",
          "next": "array-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-explanation-cpp",
      "mentorSays": "A vector is like a list of items that keeps them in order. Each item has a position number called an 'index'. Vector indices start counting from 0, not 1.\n\nFor example, vector<int> nums = {-1, 0, 1, 2} means:\n- nums[0] = -1 (first element, index 0)\n- nums[1] = 0 (second element, index 1)\n- nums[2] = 1 (third element, index 2)\n- nums[3] = 2 (fourth element, index 3)",
      "example": "vector<int> nums = {-1, 0, 1, 2};\n\nnums[0] = -1\nnums[1] = 0\nnums[2] = 1\nnums[3] = 2",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < nums.size(); i++)' means: start at 0, keep going while i is less than the vector size, and add 1 to i each time.",
      "example": "for (int i = 0; i < 3; i++) {\n    cout << i << endl;\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the 4Sum solution in C++. We'll create a function that takes a vector and returns all unique quadruplets that sum to target.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    \n}",
      "action": "continue",
      "next": "coding-sort-cpp"
    },
    {
      "stepId": "coding-sort-cpp",
      "mentorSays": "First, let's sort the vector. This helps us use two pointers and avoid duplicates.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    // Sort the vector first\n    sort(nums.begin(), nums.end());\n    \n    vector<vector<int>> result;\n}",
      "action": "continue",
      "next": "coding-outer-loop-cpp"
    },
    {
      "stepId": "coding-outer-loop-cpp",
      "mentorSays": "Now, let's create an outer loop to fix the first two numbers. We'll iterate through the vector, but skip the last two elements (since we need at least 3 numbers).",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    vector<vector<int>> result;\n    \n    // Fix the first number\n    for (int i = 0; i < nums.size() - 3; i++) { {\n        // Skip duplicates for the fixed number\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-init-pointers-cpp"
    },
    {
      "stepId": "coding-init-pointers-cpp",
      "mentorSays": "Inside the loop, initialize two pointers: left starts right after i, and right starts at the end of the vector.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    vector<vector<int>> result;\n    \n    for (int i = 0; i < nums.size() - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        // Initialize two pointers\n        int left = i + 1;\n        int right = nums.size() - 1;\n    }\n}",
      "action": "continue",
      "next": "coding-two-pointers-loop-cpp"
    },
    {
      "stepId": "coding-two-pointers-loop-cpp",
      "mentorSays": "Now, create a while loop that continues as long as left < right. Inside, we'll check if the four numbers sum to target.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    vector<vector<int>> result;\n    \n    for (int i = 0; i < nums.size() - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.size() - 1;\n        \n        // Use two pointers to find pairs\n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            // Check sum logic here\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-check-sum-cpp"
    },
    {
      "stepId": "coding-check-sum-cpp",
      "mentorSays": "Inside the while loop, check the sum. If it equals 0, we found a quadruplet! Add it to the result and move both pointers (skipping duplicates).",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    vector<vector<int>> result;\n    \n    for (int i = 0; i < nums.size() - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.size() - 1;\n        \n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            \n            if (sum == 0) {\n                // Found a quadruplet!\n                result.push_back({nums[i], nums[j], nums[left], nums[right]});\n                \n                // Skip duplicates\n                while (left < right && nums[left] == nums[left + 1]) left++;\n                while (left < right && nums[right] == nums[right - 1]) right--;\n                \n                left++;\n                right--;\n            }\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-adjust-pointers-cpp"
    },
    {
      "stepId": "coding-adjust-pointers-cpp",
      "mentorSays": "If the sum is not zero, adjust the pointers based on whether the sum is too small or too large.",
      "example": "vector<vector<int>> fourSum(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    vector<vector<int>> result;\n    \n    for (int i = 0; i < nums.size() - 2; i++) {\n        if (i > 0 && nums[i] == nums[i - 1]) {\n            continue;\n        }\n        \n        int left = i + 1;\n        int right = nums.size() - 1;\n        \n        while (left < right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            \n            if (sum == 0) {\n                result.push_back({nums[i], nums[j], nums[left], nums[right]});\n                while (left < right && nums[left] == nums[left + 1]) left++;\n                while (left < right && nums[right] == nums[right - 1]) right--;\n                left++;\n                right--;\n            } else if (sum < 0) {\n                // Sum is too small, move left pointer right\n                left++;\n            } else {\n                // Sum is too large, move right pointer left\n                right--;\n            }\n        }\n    }\n    \n    return result;\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with multiple test cases:\n\n**Test 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\nExpected: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\n**Test 2:** nums = [2, 2, 2, 2, 2], target = 8\nExpected: [[2, 2, 2, 2]]\n\n**Test 3:** nums = [0, 0, 0, 0], target = 0\nExpected: [[0, 0, 0, 0]]\n\n**Test 4:** nums = [1, 2, 3, 4], target = 10\nExpected: [[1, 2, 3, 4]]\n\n**Test 5:** nums = [-1, 0, 1, 2, -1, -4], target = -1\nExpected: [[-4, 0, 1, 2], [-1, -1, 0, 1]]\n\nTry these in your IDE or code editor!",
      "example": "Test 1: [1,0,-1,0,-2,2], target=0 → [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]\nTest 2: [2,2,2,2,2], target=8 → [[2,2,2,2]]\nTest 3: [0,0,0,0], target=0 → [[0,0,0,0]]\nTest 4: [1,2,3,4], target=10 → [[1,2,3,4]]\nTest 5: [-1,0,1,2,-1,-4], target=-1 → [[-4,0,1,2],[-1,-1,0,1]]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'result' or 'left') and put data inside it.\n\nFor example, 'let result: number[][] = [];' creates a variable that stores an empty array of arrays. Later, you can use that variable name to refer to it.",
      "example": "let result: number[][] = [];\nlet left: number = 0;\nlet right: number = nums.length - 1;\n\nNow these variables store values\nWe can use them in our algorithm",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function fourSum(nums: number[]): number[][]', the 'nums' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'fourSum([-1, 0, 1, 2, -1, -4])', the array goes into 'nums'.",
      "example": "function fourSum(nums: number[]): number[][] {\n  // 'nums' is a parameter\n}\n\n// When we call it:\nfourSum([-1, 0, 1, 2, -1, -4]);\n// The array goes into 'nums'",
      "action": "continue",
      "next": "array-check-ts"
    },
    {
      "stepId": "array-check-ts",
      "mentorSays": "To solve this problem, we'll need to work with arrays. Do you know what an array is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-explanation-ts",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0, not 1.\n\nFor example, let nums: number[] = [-1, 0, 1, 2] means:\n- nums[0] = -1 (first element, index 0)\n- nums[1] = 0 (second element, index 1)\n- nums[2] = 1 (third element, index 2)\n- nums[3] = 2 (fourth element, index 3)",
      "example": "let nums: number[] = [-1, 0, 1, 2];\n\nnums[0] = -1\nnums[1] = 0\nnums[2] = 1\nnums[3] = 2",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-ts"
        }
      ]
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < nums.length; i++)' means: start at 0, keep going while i is less than the array length, and add 1 to i each time.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the 4Sum solution in TypeScript. We'll create a function that takes an array and returns all unique quadruplets that sum to target.",
      "example": "function fourSum(nums: number[]): number[][] {\n  \n}",
      "action": "continue",
      "next": "coding-sort-ts"
    },
    {
      "stepId": "coding-sort-ts",
      "mentorSays": "First, let's sort the array. This helps us use two pointers and avoid duplicates.",
      "example": "function fourSum(nums: number[], target: number): number[][] { {\n  // Sort the array first\n  nums.sort((a, b) => a - b);\n  \n  let result: number[][] = [];\n}",
      "action": "continue",
      "next": "coding-outer-loop-ts"
    },
    {
      "stepId": "coding-outer-loop-ts",
      "mentorSays": "Now, let's create an outer loop to fix the first two numbers. We'll iterate through the array, but skip the last two elements (since we need at least 3 numbers).",
      "example": "function fourSum(nums: number[]): number[][] {\n  nums.sort((a, b) => a - b);\n  let result: number[][] = [];\n  \n  // Fix the first number\n  for (let i = 0; i < nums.length - 3; i++) { {\n    // Skip duplicates for the fixed number\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-init-pointers-ts"
    },
    {
      "stepId": "coding-init-pointers-ts",
      "mentorSays": "Inside the loop, initialize two pointers: left starts right after i, and right starts at the end of the array.",
      "example": "function fourSum(nums: number[]): number[][] {\n  nums.sort((a, b) => a - b);\n  let result: number[][] = [];\n  \n  for (let i = 0; i < nums.length - 2; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    // Initialize two pointers\n    let left: number = i + 1;\n    let right: number = nums.length - 1;\n  }\n}",
      "action": "continue",
      "next": "coding-two-pointers-loop-ts"
    },
    {
      "stepId": "coding-two-pointers-loop-ts",
      "mentorSays": "Now, create a while loop that continues as long as left < right. Inside, we'll check if the four numbers sum to target.",
      "example": "function fourSum(nums: number[]): number[][] {\n  nums.sort((a, b) => a - b);\n  let result: number[][] = [];\n  \n  for (let i = 0; i < nums.length - 2; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    let left: number = i + 1;\n    let right: number = nums.length - 1;\n    \n    // Use two pointers to find pairs\n    while (left < right) {\n      let sum: number = nums[i] + nums[left] + nums[right];\n      // Check sum logic here\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-check-sum-ts"
    },
    {
      "stepId": "coding-check-sum-ts",
      "mentorSays": "Inside the while loop, check the sum. If it equals 0, we found a quadruplet! Add it to the result and move both pointers (skipping duplicates).",
      "example": "function fourSum(nums: number[]): number[][] {\n  nums.sort((a, b) => a - b);\n  let result: number[][] = [];\n  \n  for (let i = 0; i < nums.length - 2; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    let left: number = i + 1;\n    let right: number = nums.length - 1;\n    \n    while (left < right) {\n      let sum: number = nums[i] + nums[left] + nums[right];\n      \n      if (sum === 0) {\n        // Found a quadruplet!\n        result.push([nums[i], nums[j], nums[left], nums[right]]);\n        \n        // Skip duplicates\n        while (left < right && nums[left] === nums[left + 1]) left++;\n        while (left < right && nums[right] === nums[right - 1]) right--;\n        \n        left++;\n        right--;\n      }\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-adjust-pointers-ts"
    },
    {
      "stepId": "coding-adjust-pointers-ts",
      "mentorSays": "If the sum is not zero, adjust the pointers based on whether the sum is too small or too large.",
      "example": "function fourSum(nums: number[]): number[][] {\n  nums.sort((a, b) => a - b);\n  let result: number[][] = [];\n  \n  for (let i = 0; i < nums.length - 2; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    \n    let left: number = i + 1;\n    let right: number = nums.length - 1;\n    \n    while (left < right) {\n      let sum: number = nums[i] + nums[left] + nums[right];\n      \n      if (sum === 0) {\n        result.push([nums[i], nums[j], nums[left], nums[right]]);\n        while (left < right && nums[left] === nums[left + 1]) left++;\n        while (left < right && nums[right] === nums[right - 1]) right--;\n        left++;\n        right--;\n      } else if (sum < 0) {\n        // Sum is too small, move left pointer right\n        left++;\n      } else {\n        // Sum is too large, move right pointer left\n        right--;\n      }\n    }\n  }\n  \n  return result;\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with multiple test cases:\n\n**Test 1:** nums = [1, 0, -1, 0, -2, 2], target = 0\nExpected: [[-2, -1, 1, 2], [-2, 0, 0, 2], [-1, 0, 0, 1]]\n\n**Test 2:** nums = [2, 2, 2, 2, 2], target = 8\nExpected: [[2, 2, 2, 2]]\n\n**Test 3:** nums = [0, 0, 0, 0], target = 0\nExpected: [[0, 0, 0, 0]]\n\n**Test 4:** nums = [1, 2, 3, 4], target = 10\nExpected: [[1, 2, 3, 4]]\n\n**Test 5:** nums = [-1, 0, 1, 2, -1, -4], target = -1\nExpected: [[-4, 0, 1, 2], [-1, -1, 0, 1]]\n\nTry these in your IDE or code editor!",
      "example": "Test 1: [1,0,-1,0,-2,2], target=0 → [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]\nTest 2: [2,2,2,2,2], target=8 → [[2,2,2,2]]\nTest 3: [0,0,0,0], target=0 → [[0,0,0,0]]\nTest 4: [1,2,3,4], target=10 → [[1,2,3,4]]\nTest 5: [-1,0,1,2,-1,-4], target=-1 → [[-4,0,1,2],[-1,-1,0,1]]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "🎉 Well done! You've learned to think through the 4Sum problem. You understand what the problem asks for, how to use sorting and two pointers to find quadruplets efficiently, and how to avoid duplicate quadruplets in the result.\n\nThis kind of thinking—combining sorting with two pointers—is essential for solving many array problems. Keep practicing!\n\n**Time Complexity**: O(n³) - we have two nested loops (O(n²)) and two pointers (O(n))\n**Space Complexity**: O(1) - excluding the output array, we only use a few variables\n\n**What to practice next:**\n- 3Sum (similar approach with one less loop)\n- Two Sum (foundation for sum problems)\n\nThis kind of thinking—combining sorting with nested loops and two pointers—is essential for solving many array problems. Keep practicing!",
      "action": "continue"
    }
  ]
}