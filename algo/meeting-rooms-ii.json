{
  "id": "meeting-rooms-ii",
  "title": "Meeting Rooms II",
  "pattern": "heap",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what Meeting Rooms II asks for\n2. Find minimum rooms needed\n3. Use heap/priority queue\n4. Track active meetings\n5. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what Meeting Rooms II is asking.\n\n**Problem Definition:**\nGiven an array of meeting time intervals `intervals` where intervals[i] = [starti, endi], return the minimum number of conference rooms required.\n\n**Example 1:** intervals = [[0,30],[5,10],[15,20]]\n[0,30] overlaps with [5,10] → Need 2 rooms\nAnswer: 2\n\n**Example 2:** intervals = [[7,10],[2,4]]\nNo overlaps → Need 1 room\nAnswer: 1\n\n**Key Insight:** Sort by start time, use min heap to track end times. When new meeting starts, if earliest ending meeting is done, reuse that room.",
      "example": "Example: [[0,30],[5,10],[15,20]] → 2 rooms, [[7,10],[2,4]] → 1 room",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How would YOU find minimum rooms needed?",
      "choices": [
        {
          "label": "Use heap/priority queue",
          "next": "explore-heap"
        },
        {
          "label": "Use sorting and counting",
          "next": "explore-sort"
        },
        {
          "label": "Use sweep line",
          "next": "explore-sweep"
        }
      ]
    },
    {
      "stepId": "explore-sort",
      "mentorSays": "Sorting works but heap is more efficient and cleaner.",
      "action": "continue",
      "next": "explore-heap"
    },
    {
      "stepId": "explore-sweep",
      "mentorSays": "Sweep line works but heap is more intuitive.",
      "action": "continue",
      "next": "explore-heap"
    },
    {
      "stepId": "explore-heap",
      "mentorSays": "Heap/priority queue is optimal. Sort by start, use min heap for end times, track active rooms.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function minMeetingRooms() {}",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "heap-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "heap-check-js"
    },
    {
      "stepId": "heap-check-js",
      "mentorSays": "Do you know what a heap/priority queue is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain",
          "next": "heap-explanation-js"
        }
      ]
    },
    {
      "stepId": "heap-explanation-js",
      "mentorSays": "A heap is a tree structure where parent is always smaller (min heap) or larger (max heap) than children.",
      "example": "let heap = []; heap.push(endTime); let earliest = heap.pop();",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Implement meeting rooms II in JS.",
      "example": "function minMeetingRooms(intervals) {}",
      "action": "continue",
      "next": "coding-sort-js"
    },
    {
      "stepId": "coding-sort-js",
      "mentorSays": "Sort intervals by start time.",
      "action": "continue",
      "next": "coding-init-js"
    },
    {
      "stepId": "coding-init-js",
      "mentorSays": "Initialize min heap for end times.",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Loop through each interval.",
      "action": "continue",
      "next": "coding-check-js"
    },
    {
      "stepId": "coding-check-js",
      "mentorSays": "If heap not empty and earliest end <= current start, pop (room freed).",
      "action": "continue",
      "next": "coding-add-js"
    },
    {
      "stepId": "coding-add-js",
      "mentorSays": "Add current meeting's end time to heap.",
      "action": "continue",
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "Return heap size (number of active rooms).",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Test cases:\n1. [[0,30],[5,10],[15,20]] → 2\n2. [[7,10],[2,4]] → 1\n3. [[1,5],[2,3],[3,4]] → 2\n4. [[1,2]] → 1\n5. Verify minimum rooms calculated correctly\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "result = []",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Do you know what a function is in Python?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code.",
      "example": "def minMeetingRooms(intervals):",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "heap-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "heap-check-python"
    },
    {
      "stepId": "heap-check-python",
      "mentorSays": "Do you know what a heap/priority queue is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain",
          "next": "heap-explanation-python"
        }
      ]
    },
    {
      "stepId": "heap-explanation-python",
      "mentorSays": "A heap is a tree structure where parent is always smaller (min heap) or larger (max heap) than children.",
      "example": "import heapq\nheap = []\nheapq.heappush(heap, end_time)\nearliest = heapq.heappop(heap)",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Implement meeting rooms II in PYTHON.",
      "example": "def minMeetingRooms(intervals):",
      "next": "coding-sort-python"
    },
    {
      "stepId": "coding-sort-python",
      "mentorSays": "Sort intervals by start time.",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])",
      "next": "coding-init-python"
    },
    {
      "stepId": "coding-init-python",
      "mentorSays": "Initialize min heap for end times.",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])\n    import heapq\n    heap = []",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Loop through each interval.",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])\n    import heapq\n    heap = []\n    \n    for interval in intervals:",
      "next": "coding-check-python"
    },
    {
      "stepId": "coding-check-python",
      "mentorSays": "If heap not empty and earliest end <= current start, pop (room freed).",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])\n    import heapq\n    heap = []\n    \n    for interval in intervals:\n        if heap and heap[0] <= interval[0]:\n            heapq.heappop(heap)",
      "next": "coding-add-python"
    },
    {
      "stepId": "coding-add-python",
      "mentorSays": "Add current meeting's end time to heap.",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])\n    import heapq\n    heap = []\n    \n    for interval in intervals:\n        if heap and heap[0] <= interval[0]:\n            heapq.heappop(heap)\n        heapq.heappush(heap, interval[1])",
      "next": "coding-return-python"
    },
    {
      "stepId": "coding-return-python",
      "mentorSays": "Return heap size (number of active rooms).",
      "example": "def minMeetingRooms(intervals):\n    intervals.sort(key=lambda x: x[0])\n    import heapq\n    heap = []\n    \n    for interval in intervals:\n        if heap and heap[0] <= interval[0]:\n            heapq.heappop(heap)\n        heapq.heappush(heap, interval[1])\n    \n    return len(heap)",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Test cases:\n1. [[0,30],[5,10],[15,20]] → 2\n2. [[7,10],[2,4]] → 1\n3. [[1,5],[2,3],[3,4]] → 2\n4. [[1,2]] → 1\n5. Verify minimum rooms calculated correctly\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "List<Integer> result = new ArrayList<>();",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Do you know what a function is in Java?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A function is a reusable block of code.",
      "example": "public int minMeetingRooms(int[][] intervals) {}",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "heap-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "heap-check-java"
    },
    {
      "stepId": "heap-check-java",
      "mentorSays": "Do you know what a heap/priority queue is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain",
          "next": "heap-explanation-java"
        }
      ]
    },
    {
      "stepId": "heap-explanation-java",
      "mentorSays": "A heap is a tree structure where parent is always smaller (min heap) or larger (max heap) than children.",
      "example": "PriorityQueue<Integer> heap = new PriorityQueue<>();\nheap.offer(endTime);\nint earliest = heap.poll();",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Implement meeting rooms II in JAVA.",
      "example": "public int minMeetingRooms(int[][] intervals) {}",
      "next": "coding-sort-java"
    },
    {
      "stepId": "coding-sort-java",
      "mentorSays": "Sort intervals by start time.",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);",
      "next": "coding-init-java"
    },
    {
      "stepId": "coding-init-java",
      "mentorSays": "Initialize min heap for end times.",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);\n    PriorityQueue<Integer> heap = new PriorityQueue<>();",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Loop through each interval.",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);\n    PriorityQueue<Integer> heap = new PriorityQueue<>();\n    \n    for (int[] interval : intervals) {",
      "next": "coding-check-java"
    },
    {
      "stepId": "coding-check-java",
      "mentorSays": "If heap not empty and earliest end <= current start, pop (room freed).",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);\n    PriorityQueue<Integer> heap = new PriorityQueue<>();\n    \n    for (int[] interval : intervals) {\n        if (!heap.isEmpty() && heap.peek() <= interval[0]) {\n            heap.poll();\n        }",
      "next": "coding-add-java"
    },
    {
      "stepId": "coding-add-java",
      "mentorSays": "Add current meeting's end time to heap.",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);\n    PriorityQueue<Integer> heap = new PriorityQueue<>();\n    \n    for (int[] interval : intervals) {\n        if (!heap.isEmpty() && heap.peek() <= interval[0]) {\n            heap.poll();\n        }\n        heap.offer(interval[1]);",
      "next": "coding-return-java"
    },
    {
      "stepId": "coding-return-java",
      "mentorSays": "Return heap size (number of active rooms).",
      "example": "public int minMeetingRooms(int[][] intervals) {\n    Arrays.sort(intervals, (a, b) -> a[0] - b[0]);\n    PriorityQueue<Integer> heap = new PriorityQueue<>();\n    \n    for (int[] interval : intervals) {\n        if (!heap.isEmpty() && heap.peek() <= interval[0]) {\n            heap.poll();\n        }\n        heap.offer(interval[1]);\n    }\n    \n    return heap.size();\n}",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Test cases:\n1. [[0,30],[5,10],[15,20]] → 2\n2. [[7,10],[2,4]] → 1\n3. [[1,5],[2,3],[3,4]] → 2\n4. [[1,2]] → 1\n5. Verify minimum rooms calculated correctly\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "vector<int> result;",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Do you know what a function is in C++?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {}",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "heap-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "heap-check-cpp"
    },
    {
      "stepId": "heap-check-cpp",
      "mentorSays": "Do you know what a heap/priority queue is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain",
          "next": "heap-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "heap-explanation-cpp",
      "mentorSays": "A heap is a tree structure where parent is always smaller (min heap) or larger (max heap) than children.",
      "example": "priority_queue<int, vector<int>, greater<int>> heap;\nheap.push(endTime);\nint earliest = heap.top(); heap.pop();",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Implement meeting rooms II in CPP.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {}",
      "next": "coding-sort-cpp"
    },
    {
      "stepId": "coding-sort-cpp",
      "mentorSays": "Sort intervals by start time.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });",
      "next": "coding-init-cpp"
    },
    {
      "stepId": "coding-init-cpp",
      "mentorSays": "Initialize min heap for end times.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });\n    priority_queue<int, vector<int>, greater<int>> heap;",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Loop through each interval.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });\n    priority_queue<int, vector<int>, greater<int>> heap;\n    \n    for (const auto& interval : intervals) {",
      "next": "coding-check-cpp"
    },
    {
      "stepId": "coding-check-cpp",
      "mentorSays": "If heap not empty and earliest end <= current start, pop (room freed).",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });\n    priority_queue<int, vector<int>, greater<int>> heap;\n    \n    for (const auto& interval : intervals) {\n        if (!heap.empty() && heap.top() <= interval[0]) {\n            heap.pop();\n        }",
      "next": "coding-add-cpp"
    },
    {
      "stepId": "coding-add-cpp",
      "mentorSays": "Add current meeting's end time to heap.",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });\n    priority_queue<int, vector<int>, greater<int>> heap;\n    \n    for (const auto& interval : intervals) {\n        if (!heap.empty() && heap.top() <= interval[0]) {\n            heap.pop();\n        }\n        heap.push(interval[1]);",
      "next": "coding-return-cpp"
    },
    {
      "stepId": "coding-return-cpp",
      "mentorSays": "Return heap size (number of active rooms).",
      "example": "int minMeetingRooms(vector<vector<int>>& intervals) {\n    sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) {\n        return a[0] < b[0];\n    });\n    priority_queue<int, vector<int>, greater<int>> heap;\n    \n    for (const auto& interval : intervals) {\n        if (!heap.empty() && heap.top() <= interval[0]) {\n            heap.pop();\n        }\n        heap.push(interval[1]);\n    }\n    \n    return heap.size();\n}",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Test cases:\n1. [[0,30],[5,10],[15,20]] → 2\n2. [[7,10],[2,4]] → 1\n3. [[1,5],[2,3],[3,4]] → 2\n4. [[1,2]] → 1\n5. Verify minimum rooms calculated correctly\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Ts?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result: number[] = [];",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Do you know what a function is in Ts?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function minMeetingRooms(intervals: number[][]): number {}",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "heap-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "heap-check-ts"
    },
    {
      "stepId": "heap-check-ts",
      "mentorSays": "Do you know what a heap/priority queue is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain",
          "next": "heap-explanation-ts"
        }
      ]
    },
    {
      "stepId": "heap-explanation-ts",
      "mentorSays": "A heap is a tree structure where parent is always smaller (min heap) or larger (max heap) than children.",
      "example": "let heap: number[] = [];\nheap.push(endTime);\nheap.sort((a, b) => a - b);\nlet earliest = heap.shift();",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Implement meeting rooms II in TS.",
      "example": "function minMeetingRooms(intervals: number[][]): number {}",
      "next": "coding-sort-ts"
    },
    {
      "stepId": "coding-sort-ts",
      "mentorSays": "Sort intervals by start time.",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);",
      "next": "coding-init-ts"
    },
    {
      "stepId": "coding-init-ts",
      "mentorSays": "Initialize min heap for end times.",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);\n    let heap: number[] = [];",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Loop through each interval.",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);\n    let heap: number[] = [];\n    \n    for (let interval of intervals) {",
      "next": "coding-check-ts"
    },
    {
      "stepId": "coding-check-ts",
      "mentorSays": "If heap not empty and earliest end <= current start, pop (room freed).",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);\n    let heap: number[] = [];\n    \n    for (let interval of intervals) {\n        if (heap.length > 0 && heap[0] <= interval[0]) {\n            heap.shift();\n        }",
      "next": "coding-add-ts"
    },
    {
      "stepId": "coding-add-ts",
      "mentorSays": "Add current meeting's end time to heap.",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);\n    let heap: number[] = [];\n    \n    for (let interval of intervals) {\n        if (heap.length > 0 && heap[0] <= interval[0]) {\n            heap.shift();\n        }\n        heap.push(interval[1]);\n        heap.sort((a, b) => a - b);",
      "next": "coding-return-ts"
    },
    {
      "stepId": "coding-return-ts",
      "mentorSays": "Return heap size (number of active rooms).",
      "example": "function minMeetingRooms(intervals: number[][]): number {\n    intervals.sort((a, b) => a[0] - b[0]);\n    let heap: number[] = [];\n    \n    for (let interval of intervals) {\n        if (heap.length > 0 && heap[0] <= interval[0]) {\n            heap.shift();\n        }\n        heap.push(interval[1]);\n        heap.sort((a, b) => a - b);\n    }\n    \n    return heap.length;\n}",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Test cases:\n1. [[0,30],[5,10],[15,20]] → 2\n2. [[7,10],[2,4]] → 1\n3. [[1,5],[2,3],[3,4]] → 2\n4. [[1,2]] → 1\n5. Verify minimum rooms calculated correctly\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "Time: O(n log n), Space: O(n). Sort by start, use min heap to track active rooms.",
      "action": "continue"
    }
  ]
}