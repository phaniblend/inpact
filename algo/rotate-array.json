{
  "id": "rotate-array",
  "title": "Rotate array",
  "pattern": "array-manipulation",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what it means to rotate an array to the right\n2. Use array reversal technique for efficient rotation\n3. Handle edge cases like k > array length\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Rotate Array problem is asking.\n\nImagine you have an array: [1, 2, 3, 4, 5, 6, 7]\n\nAnd k = 3 (rotate right by 3 positions)\n\nYour task: Rotate the array to the right by k steps.\n\n**What does 'rotate right' mean?**\nElements move to the right, and elements that go past the end wrap around to the beginning.\n\nLet's visualize:\n\nOriginal: [1, 2, 3, 4, 5, 6, 7]\n         â†‘  â†‘  â†‘  â†‘  â†‘  â†‘  â†‘\n         0  1  2  3  4  5  6\n\nAfter rotating right by 3:\n- Element at index 4 (value 5) moves to index 0\n- Element at index 5 (value 6) moves to index 1\n- Element at index 6 (value 7) moves to index 2\n- Element at index 0 (value 1) moves to index 3\n- Element at index 1 (value 2) moves to index 4\n- Element at index 2 (value 3) moves to index 5\n- Element at index 3 (value 4) moves to index 6\n\nResult: [5, 6, 7, 1, 2, 3, 4]\n\n**Key Insight**: We can use array reversal! Reverse the entire array, then reverse the first k elements, then reverse the remaining elements.\n\nThat's what the problem wants: rotate the array to the right by k steps in-place.",
      "example": "nums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nRotate right by 3:\n[5, 6, 7, 1, 2, 3, 4]\n\nAnother example:\nnums = [-1, -100, 3, 99]\nk = 2\n\nRotate right by 2:\n[3, 99, -1, -100]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU rotate the array?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Use array reversal: reverse all, reverse first k, reverse rest",
          "next": "explore-reversal"
        },
        {
          "label": "Create a new array and copy elements in rotated order",
          "next": "explore-new-array"
        },
        {
          "label": "Shift elements one position at a time, k times",
          "next": "explore-shift"
        }
      ]
    },
    {
      "stepId": "explore-new-array",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll create a new array and copy elements in the rotated order.\"\n\nFor [1, 2, 3, 4, 5, 6, 7] with k = 3:\n- New array: copy last 3 elements [5, 6, 7], then first 4 elements [1, 2, 3, 4]\n- Result: [5, 6, 7, 1, 2, 3, 4] âœ“\n\nThis works! However, it uses O(n) extra space.\n\nThe problem asks us to modify the array in-place. Would you like to learn the reversal approach that uses O(1) extra space?",
      "action": "continue",
      "next": "explore-reversal"
    },
    {
      "stepId": "explore-shift",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll shift all elements one position to the right, and do this k times.\"\n\nFor [1, 2, 3, 4, 5, 6, 7] with k = 3:\n- Shift 1: [7, 1, 2, 3, 4, 5, 6]\n- Shift 2: [6, 7, 1, 2, 3, 4, 5]\n- Shift 3: [5, 6, 7, 1, 2, 3, 4] âœ“\n\nThis works! However, it's O(n Ã— k) time complexity, which can be slow for large k.\n\nWould you like to learn the reversal approach which is O(n) time?",
      "action": "continue",
      "next": "explore-reversal"
    },
    {
      "stepId": "explore-reversal",
      "mentorSays": "Excellent choice! The reversal approach is elegant and efficient. Here's the core idea:\n\n1. **Reverse the entire array**: [1, 2, 3, 4, 5, 6, 7] â†’ [7, 6, 5, 4, 3, 2, 1]\n2. **Reverse the first k elements**: [7, 6, 5, 4, 3, 2, 1] â†’ [5, 6, 7, 4, 3, 2, 1]\n3. **Reverse the remaining elements**: [5, 6, 7, 4, 3, 2, 1] â†’ [5, 6, 7, 1, 2, 3, 4] âœ“\n\nLet's trace this with [1, 2, 3, 4, 5, 6, 7] and k = 3:\n\n- **Step 1 - Reverse entire array**:\n  [1, 2, 3, 4, 5, 6, 7] â†’ [7, 6, 5, 4, 3, 2, 1]\n\n- **Step 2 - Reverse first k=3 elements**:\n  [7, 6, 5, 4, 3, 2, 1] â†’ [5, 6, 7, 4, 3, 2, 1]\n\n- **Step 3 - Reverse remaining elements (from index 3 to end)**:\n  [5, 6, 7, 4, 3, 2, 1] â†’ [5, 6, 7, 1, 2, 3, 4] âœ“\n\n**Important**: We need to handle k > array length. If k = 10 and array length = 7, we only need to rotate by k % 7 = 3.\n\nThis is O(n) time and O(1) space! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this reversal solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'let left = 0;' creates a variable that stores the number 0.",
      "example": "let left = 0;\nlet right = nums.length - 1;\n\nNow these variables store numbers\nWe can use them in our calculations",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function rotate(nums, k) {\n  // Rotate the array\n}\n\nrotate([1, 2, 3, 4, 5], 2) rotates the array",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function rotate(nums, k)', 'nums' and 'k' are parameters - they're placeholders that will receive actual values when you call the function.",
      "example": "function rotate(nums, k) {\n  // 'nums' and 'k' are parameters\n}\n\n// When we call it:\nrotate([1, 2, 3, 4, 5], 2);\n// The array goes into 'nums', 2 goes into 'k'",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops to reverse parts of the array. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "array-reversal-check-js"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-reversal-check-js",
      "mentorSays": "Do you understand the array reversal technique?",
      "choices": [
        {
          "label": "Yes, I know array-reversal",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain array-reversal",
          "next": "array-reversal-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-reversal-explanation-js",
      "mentorSays": "Reversing an array swaps elements from both ends moving toward the center. For rotation, we can reverse the entire array, then reverse the first k elements and the remaining elements separately.\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts\n\nGot it?",
      "example": "function reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in JavaScript runs code for each item in a sequence.\n\nFor example, you can loop through an array to reverse it.",
      "example": "for (let i = 0; i < nums.length / 2; i++) {\n  // Swap elements\n}",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the rotate array solution in JavaScript. We'll create a function that takes an array and k, and rotates it in-place.",
      "example": "function rotate(nums, k) {\n  \n}",
      "action": "continue",
      "next": "coding-normalize-k-js"
    },
    {
      "stepId": "coding-normalize-k-js",
      "mentorSays": "First, normalize k to handle cases where k > array length. We use modulo operation.",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n}",
      "action": "continue",
      "next": "coding-reverse-helper-js"
    },
    {
      "stepId": "coding-reverse-helper-js",
      "mentorSays": "Create a helper function to reverse a portion of the array between two indices.",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  function reverse(start, end) {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-reverse-all-js"
    },
    {
      "stepId": "coding-reverse-all-js",
      "mentorSays": "Reverse the entire array.",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  function reverse(start, end) {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n}",
      "action": "continue",
      "next": "coding-reverse-first-k-js"
    },
    {
      "stepId": "coding-reverse-first-k-js",
      "mentorSays": "Reverse the first k elements.",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  function reverse(start, end) {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n  reverse(0, k - 1);\n}",
      "action": "continue",
      "next": "coding-three-reversal-js"
    },
    {
      "stepId": "coding-three-reversal-js",
      "mentorSays": "Here's the elegant three-reversal trick for rotating an array!\n\n1. Reverse the entire array\n2. Reverse the first k elements\n3. Reverse the remaining elements\n\nThis rotates the array in-place with O(1) extra space!",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  // Reverse entire array\n  reverse(nums, 0, nums.length - 1);\n  \n  // Reverse first k elements\n  reverse(nums, 0, k - 1);\n  \n  // Reverse remaining elements\n  reverse(nums, k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "coding-reverse-rest-js",
      "mentorSays": "Reverse the remaining elements (from index k to the end).",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  function reverse(start, end) {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n  reverse(0, k - 1);\n  reverse(k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Test with nums = [1, 2, 3, 4, 5, 6, 7], k = 3. Expected: [5, 6, 7, 1, 2, 3, 4].",
      "example": "Test input:\nnums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nExpected output: [5, 6, 7, 1, 2, 3, 4]\n\nBecause rotating right by 3 moves the last 3 elements to the front.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'left = 0' creates a variable that stores the number 0.",
      "example": "left = 0\nright = len(nums) - 1\n\nNow these variables store numbers\nWe can use them in our calculations",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "def rotate(nums, k):\n    # Rotate the array\n    pass\n\nrotate([1, 2, 3, 4, 5], 2) rotates the array",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'def rotate(nums, k):', 'nums' and 'k' are parameters - they're placeholders that will receive actual values when you call the function.",
      "example": "def rotate(nums, k):\n  # 'nums' and 'k' are parameters\n\n# When we call it:\nrotate([1, 2, 3, 4, 5], 2)\n# The list goes into 'nums', 2 goes into 'k'",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "To solve this problem, we'll need to use loops to reverse parts of the array. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "array-reversal-check-python"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-reversal-check-python",
      "mentorSays": "Do you understand the array reversal technique?",
      "choices": [
        {
          "label": "Yes, I know array-reversal",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain array-reversal",
          "next": "array-reversal-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-reversal-explanation-python",
      "mentorSays": "Reversing an array swaps elements from both ends moving toward the center. For rotation, we can reverse the entire array, then reverse the first k elements and the remaining elements separately.\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts\n\nGot it?",
      "example": "function reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, you can loop through a list to reverse it.",
      "example": "for i in range(len(nums) // 2):\n    # Swap elements",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the rotate array solution in Python. We'll create a function that takes a list and k, and rotates it in-place.",
      "example": "def rotate(nums, k):\n    \n    pass",
      "action": "continue",
      "next": "coding-normalize-k-python"
    },
    {
      "stepId": "coding-normalize-k-python",
      "mentorSays": "First, normalize k to handle cases where k > array length. We use modulo operation.",
      "example": "def rotate(nums, k):\n    k = k % len(nums)\n    \n    pass",
      "action": "continue",
      "next": "coding-reverse-helper-python"
    },
    {
      "stepId": "coding-reverse-helper-python",
      "mentorSays": "Create a helper function to reverse a portion of the list between two indices.",
      "example": "def rotate(nums, k):\n    k = k % len(nums)\n    \n    def reverse(start, end):\n        while start < end:\n            nums[start], nums[end] = nums[end], nums[start]\n            start += 1\n            end -= 1\n    \n    pass",
      "action": "continue",
      "next": "coding-reverse-all-python"
    },
    {
      "stepId": "coding-reverse-all-python",
      "mentorSays": "Reverse the entire list.",
      "example": "def rotate(nums, k):\n    k = k % len(nums)\n    \n    def reverse(start, end):\n        while start < end:\n            nums[start], nums[end] = nums[end], nums[start]\n            start += 1\n            end -= 1\n    \n    reverse(0, len(nums) - 1)\n    \n    pass",
      "action": "continue",
      "next": "coding-reverse-first-k-python"
    },
    {
      "stepId": "coding-reverse-first-k-python",
      "mentorSays": "Reverse the first k elements.",
      "example": "def rotate(nums, k):\n    k = k % len(nums)\n    \n    def reverse(start, end):\n        while start < end:\n            nums[start], nums[end] = nums[end], nums[start]\n            start += 1\n            end -= 1\n    \n    reverse(0, len(nums) - 1)\n    reverse(0, k - 1)\n    \n    pass",
      "action": "continue",
      "next": "coding-three-reversal-python"
    },
    {
      "stepId": "coding-three-reversal-python",
      "mentorSays": "Here's the elegant three-reversal trick for rotating an array!\n\n1. Reverse the entire array\n2. Reverse the first k elements\n3. Reverse the remaining elements\n\nThis rotates the array in-place with O(1) extra space!",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  // Reverse entire array\n  reverse(nums, 0, nums.length - 1);\n  \n  // Reverse first k elements\n  reverse(nums, 0, k - 1);\n  \n  // Reverse remaining elements\n  reverse(nums, k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "coding-reverse-rest-python",
      "mentorSays": "Reverse the remaining elements (from index k to the end).",
      "example": "def rotate(nums, k):\n    k = k % len(nums)\n    \n    def reverse(start, end):\n        while start < end:\n            nums[start], nums[end] = nums[end], nums[start]\n            start += 1\n            end -= 1\n    \n    reverse(0, len(nums) - 1)\n    reverse(0, k - 1)\n    reverse(k, len(nums) - 1)",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Test with nums = [1, 2, 3, 4, 5, 6, 7], k = 3. Expected: [5, 6, 7, 1, 2, 3, 4].",
      "example": "Test input:\nnums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nExpected output: [5, 6, 7, 1, 2, 3, 4]\n\nBecause rotating right by 3 moves the last 3 elements to the front.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\nint right = nums.length - 1;\n\nNow these variables store numbers\nWe can use them in our calculations",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method (Java's version of a function) is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "public void rotate(int[] nums, int k) {\n    // Rotate the array\n}\n\nrotate(new int[]{1, 2, 3, 4, 5}, 2) rotates the array",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "When we write a method, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the method. When you write 'public void rotate(int[] nums, int k)', 'nums' and 'k' are parameters - they're placeholders that will receive actual values when you call the method.",
      "example": "public void rotate(int[] nums, int k) {\n  // 'nums' and 'k' are parameters\n}\n\n// When we call it:\nrotate(new int[]{1, 2, 3, 4, 5}, 2);\n// The array goes into 'nums', 2 goes into 'k'",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "To solve this problem, we'll need to use loops to reverse parts of the array. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "array-reversal-check-java"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-reversal-check-java",
      "mentorSays": "Do you understand the array reversal technique?",
      "choices": [
        {
          "label": "Yes, I know array-reversal",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain array-reversal",
          "next": "array-reversal-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-reversal-explanation-java",
      "mentorSays": "Reversing an array swaps elements from both ends moving toward the center. For rotation, we can reverse the entire array, then reverse the first k elements and the remaining elements separately.\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts\n\nGot it?",
      "example": "function reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Java runs code for each item in a sequence.\n\nFor example, you can loop through an array to reverse it.",
      "example": "for (int i = 0; i < nums.length / 2; i++) {\n    // Swap elements\n}",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the rotate array solution in Java. We'll create a method that takes an array and k, and rotates it in-place.",
      "example": "public void rotate(int[] nums, int k) {\n    \n}",
      "action": "continue",
      "next": "coding-normalize-k-java"
    },
    {
      "stepId": "coding-normalize-k-java",
      "mentorSays": "First, normalize k to handle cases where k > array length. We use modulo operation.",
      "example": "public void rotate(int[] nums, int k) {\n    k = k % nums.length;\n}",
      "action": "continue",
      "next": "coding-reverse-helper-java"
    },
    {
      "stepId": "coding-reverse-helper-java",
      "mentorSays": "Create a helper method to reverse a portion of the array between two indices.",
      "example": "public void rotate(int[] nums, int k) {\n    k = k % nums.length;\n    \n    reverse(nums, 0, nums.length - 1);\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n}\n\nprivate void reverse(int[] nums, int start, int end) {\n    while (start < end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}",
      "action": "continue",
      "next": "coding-reverse-all-java"
    },
    {
      "stepId": "coding-reverse-all-java",
      "mentorSays": "Now call reverse to reverse the entire array.",
      "example": "public void rotate(int[] nums, int k) {\n    k = k % nums.length;\n    \n    reverse(nums, 0, nums.length - 1);\n}\n\nprivate void reverse(int[] nums, int start, int end) {\n    while (start < end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}",
      "action": "continue",
      "next": "coding-reverse-first-k-java"
    },
    {
      "stepId": "coding-reverse-first-k-java",
      "mentorSays": "Reverse the first k elements.",
      "example": "public void rotate(int[] nums, int k) {\n    k = k % nums.length;\n    \n    reverse(nums, 0, nums.length - 1);\n    reverse(nums, 0, k - 1);\n}\n\nprivate void reverse(int[] nums, int start, int end) {\n    while (start < end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}",
      "action": "continue",
      "next": "coding-three-reversal-java"
    },
    {
      "stepId": "coding-three-reversal-java",
      "mentorSays": "Here's the elegant three-reversal trick for rotating an array!\n\n1. Reverse the entire array\n2. Reverse the first k elements\n3. Reverse the remaining elements\n\nThis rotates the array in-place with O(1) extra space!",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  // Reverse entire array\n  reverse(nums, 0, nums.length - 1);\n  \n  // Reverse first k elements\n  reverse(nums, 0, k - 1);\n  \n  // Reverse remaining elements\n  reverse(nums, k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "coding-reverse-rest-java",
      "mentorSays": "Reverse the remaining elements (from index k to the end).",
      "example": "public void rotate(int[] nums, int k) {\n    k = k % nums.length;\n    \n    reverse(nums, 0, nums.length - 1);\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n}\n\nprivate void reverse(int[] nums, int start, int end) {\n    while (start < end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Test with nums = [1, 2, 3, 4, 5, 6, 7], k = 3. Expected: [5, 6, 7, 1, 2, 3, 4].",
      "example": "Test input:\nnums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nExpected output: [5, 6, 7, 1, 2, 3, 4]\n\nBecause rotating right by 3 moves the last 3 elements to the front.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\nint right = nums.size() - 1;\n\nNow these variables store numbers\nWe can use them in our calculations",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "void rotate(vector<int>& nums, int k) {\n    // Rotate the array\n}\n\nrotate({1, 2, 3, 4, 5}, 2) rotates the array",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'void rotate(vector<int>& nums, int k)', 'nums' and 'k' are parameters - they're placeholders that will receive actual values when you call the function.",
      "example": "void rotate(vector<int>& nums, int k) {\n  // 'nums' and 'k' are parameters\n}\n\n// When we call it:\nrotate({1, 2, 3, 4, 5}, 2);\n// The vector goes into 'nums', 2 goes into 'k'",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "To solve this problem, we'll need to use loops to reverse parts of the array. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "array-reversal-check-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-reversal-check-cpp",
      "mentorSays": "Do you understand the array reversal technique?",
      "choices": [
        {
          "label": "Yes, I know array-reversal",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain array-reversal",
          "next": "array-reversal-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-reversal-explanation-cpp",
      "mentorSays": "Reversing an array swaps elements from both ends moving toward the center. For rotation, we can reverse the entire array, then reverse the first k elements and the remaining elements separately.\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts\n\nGot it?",
      "example": "function reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in C++ runs code for each item in a sequence.\n\nFor example, you can loop through a vector to reverse it.",
      "example": "for (int i = 0; i < nums.size() / 2; i++) {\n    // Swap elements\n}",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the rotate array solution in C++. We'll create a function that takes a vector and k, and rotates it in-place.",
      "example": "#include <vector>\n#include <algorithm>\n\nvoid rotate(vector<int>& nums, int k) {\n    \n}",
      "action": "continue",
      "next": "coding-normalize-k-cpp"
    },
    {
      "stepId": "coding-normalize-k-cpp",
      "mentorSays": "First, normalize k to handle cases where k > array length. We use modulo operation.",
      "example": "#include <vector>\n#include <algorithm>\n\nvoid rotate(vector<int>& nums, int k) {\n    k = k % nums.size();\n}",
      "action": "continue",
      "next": "coding-reverse-helper-cpp"
    },
    {
      "stepId": "coding-reverse-helper-cpp",
      "mentorSays": "Use std::reverse to reverse portions of the array. First reverse the entire array.",
      "example": "#include <vector>\n#include <algorithm>\n\nvoid rotate(vector<int>& nums, int k) {\n    k = k % nums.size();\n    \n    reverse(nums.begin(), nums.end());\n}",
      "action": "continue",
      "next": "coding-reverse-first-k-cpp"
    },
    {
      "stepId": "coding-reverse-first-k-cpp",
      "mentorSays": "Reverse the first k elements.",
      "example": "#include <vector>\n#include <algorithm>\n\nvoid rotate(vector<int>& nums, int k) {\n    k = k % nums.size();\n    \n    reverse(nums.begin(), nums.end());\n    reverse(nums.begin(), nums.begin() + k);\n}",
      "action": "continue",
      "next": "coding-three-reversal-cpp"
    },
    {
      "stepId": "coding-three-reversal-cpp",
      "mentorSays": "Here's the elegant three-reversal trick for rotating an array!\n\n1. Reverse the entire array\n2. Reverse the first k elements\n3. Reverse the remaining elements\n\nThis rotates the array in-place with O(1) extra space!",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  // Reverse entire array\n  reverse(nums, 0, nums.length - 1);\n  \n  // Reverse first k elements\n  reverse(nums, 0, k - 1);\n  \n  // Reverse remaining elements\n  reverse(nums, k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "coding-reverse-rest-cpp",
      "mentorSays": "Reverse the remaining elements (from index k to the end).",
      "example": "#include <vector>\n#include <algorithm>\n\nvoid rotate(vector<int>& nums, int k) {\n    k = k % nums.size();\n    \n    reverse(nums.begin(), nums.end());\n    reverse(nums.begin(), nums.begin() + k);\n    reverse(nums.begin() + k, nums.end());\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Test with nums = [1, 2, 3, 4, 5, 6, 7], k = 3. Expected: [5, 6, 7, 1, 2, 3, 4].",
      "example": "Test input:\nnums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nExpected output: [5, 6, 7, 1, 2, 3, 4]\n\nBecause rotating right by 3 moves the last 3 elements to the front.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'let left = 0;' creates a variable that stores the number 0.",
      "example": "let left = 0;\nlet right = nums.length - 1;\n\nNow these variables store numbers\nWe can use them in our calculations",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function rotate(nums: number[], k: number): void {\n    // Rotate the array\n}\n\nrotate([1, 2, 3, 4, 5], 2) rotates the array",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function rotate(nums: number[], k: number): void', 'nums' and 'k' are parameters - they're placeholders that will receive actual values when you call the function.",
      "example": "function rotate(nums: number[], k: number): void {\n  // 'nums' and 'k' are parameters\n}\n\n// When we call it:\nrotate([1, 2, 3, 4, 5], 2);\n// The array goes into 'nums', 2 goes into 'k'",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "To solve this problem, we'll need to use loops to reverse parts of the array. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "array-reversal-check-ts"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-reversal-check-ts",
      "mentorSays": "Do you understand the array reversal technique?",
      "choices": [
        {
          "label": "Yes, I know array-reversal",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain array-reversal",
          "next": "array-reversal-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-reversal-explanation-ts",
      "mentorSays": "Reversing an array swaps elements from both ends moving toward the center. For rotation, we can reverse the entire array, then reverse the first k elements and the remaining elements separately.\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts\n\nGot it?",
      "example": "function reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}\n\n// Reverse entire array, then reverse parts",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in TypeScript runs code for each item in a sequence.\n\nFor example, you can loop through an array to reverse it.",
      "example": "for (let i = 0; i < nums.length / 2; i++) {\n  // Swap elements\n}",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the rotate array solution in TypeScript. We'll create a function that takes an array and k, and rotates it in-place.",
      "example": "function rotate(nums: number[], k: number): void {\n  \n}",
      "action": "continue",
      "next": "coding-normalize-k-ts"
    },
    {
      "stepId": "coding-normalize-k-ts",
      "mentorSays": "First, normalize k to handle cases where k > array length. We use modulo operation.",
      "example": "function rotate(nums: number[], k: number): void {\n  k = k % nums.length;\n}",
      "action": "continue",
      "next": "coding-reverse-helper-ts"
    },
    {
      "stepId": "coding-reverse-helper-ts",
      "mentorSays": "Create a helper function to reverse a portion of the array between two indices.",
      "example": "function rotate(nums: number[], k: number): void {\n  k = k % nums.length;\n  \n  function reverse(start: number, end: number): void {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-reverse-all-ts"
    },
    {
      "stepId": "coding-reverse-all-ts",
      "mentorSays": "Reverse the entire array.",
      "example": "function rotate(nums: number[], k: number): void {\n  k = k % nums.length;\n  \n  function reverse(start: number, end: number): void {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n}",
      "action": "continue",
      "next": "coding-reverse-first-k-ts"
    },
    {
      "stepId": "coding-reverse-first-k-ts",
      "mentorSays": "Reverse the first k elements.",
      "example": "function rotate(nums: number[], k: number): void {\n  k = k % nums.length;\n  \n  function reverse(start: number, end: number): void {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n  reverse(0, k - 1);\n}",
      "action": "continue",
      "next": "coding-three-reversal-ts"
    },
    {
      "stepId": "coding-three-reversal-ts",
      "mentorSays": "Here's the elegant three-reversal trick for rotating an array!\n\n1. Reverse the entire array\n2. Reverse the first k elements\n3. Reverse the remaining elements\n\nThis rotates the array in-place with O(1) extra space!",
      "example": "function rotate(nums, k) {\n  k = k % nums.length;\n  \n  // Reverse entire array\n  reverse(nums, 0, nums.length - 1);\n  \n  // Reverse first k elements\n  reverse(nums, 0, k - 1);\n  \n  // Reverse remaining elements\n  reverse(nums, k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "coding-reverse-rest-ts",
      "mentorSays": "Reverse the remaining elements (from index k to the end).",
      "example": "function rotate(nums: number[], k: number): void {\n  k = k % nums.length;\n  \n  function reverse(start: number, end: number): void {\n    while (start < end) {\n      [nums[start], nums[end]] = [nums[end], nums[start]];\n      start++;\n      end--;\n    }\n  }\n  \n  reverse(0, nums.length - 1);\n  reverse(0, k - 1);\n  reverse(k, nums.length - 1);\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Test with nums = [1, 2, 3, 4, 5, 6, 7], k = 3. Expected: [5, 6, 7, 1, 2, 3, 4].",
      "example": "Test input:\nnums = [1, 2, 3, 4, 5, 6, 7]\nk = 3\n\nExpected output: [5, 6, 7, 1, 2, 3, 4]\n\nBecause rotating right by 3 moves the last 3 elements to the front.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned to think through the Rotate Array problem. You understand what the problem asks for, how to use array reversal technique for efficient rotation, and how to handle edge cases like k > array length.\n\nThis kind of thinkingâ€”using array manipulation techniques like reversalâ€”is essential for solving many array problems. Keep practicing!",
      "action": "continue"
    }
  ]
}