{
  "id": "target-sum",
  "title": "Target Sum",
  "pattern": "backtracking",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what the Target Sum problem asks for\n2. Use backtracking or DP to count ways\n3. Add '+' or '-' to each number\n4. Track the current sum\n5. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Target Sum problem is asking.\n\n**Problem Definition:**\nYou are given an integer array `nums` and an integer `target`. You want to build an expression out of nums by adding one of the symbols '+' and '-' before each integer in nums and then concatenate all the integers.\n\nReturn the number of different expressions that you can build, which evaluates to `target`.\n\n**Example 1:** nums = [1,1,1,1,1], target = 3\nWays: -1+1+1+1+1 = 3, +1-1+1+1+1 = 3, +1+1-1+1+1 = 3, +1+1+1-1+1 = 3, +1+1+1+1-1 = 3\nAnswer: 5\n\n**Key Insight:** Use backtracking or DP. For each number, try adding '+' or '-', recurse, backtrack.",
      "example": "Example: nums=[1,1,1,1,1], target=3 → 5 ways",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How would YOU count ways to reach target?",
      "choices": [
        {
          "label": "Use backtracking",
          "next": "explore-backtracking"
        },
        {
          "label": "Use dynamic programming",
          "next": "explore-dp"
        },
        {
          "label": "Use memoization",
          "next": "explore-memo"
        }
      ]
    },
    {
      "stepId": "explore-dp",
      "mentorSays": "DP works but backtracking with memoization is simpler to understand.",
      "action": "continue",
      "next": "explore-backtracking"
    },
    {
      "stepId": "explore-memo",
      "mentorSays": "Memoization is part of backtracking! We'll use backtracking with memoization.",
      "action": "continue",
      "next": "explore-backtracking"
    },
    {
      "stepId": "explore-backtracking",
      "mentorSays": "Backtracking with memoization is optimal. Try '+' and '-' for each number, memoize results.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function findTargetSumWays() {}",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "backtracking-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "backtracking-check-js"
    },
    {
      "stepId": "backtracking-check-js",
      "mentorSays": "Do you know what backtracking is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain",
          "next": "backtracking-explanation-js"
        }
      ]
    },
    {
      "stepId": "backtracking-explanation-js",
      "mentorSays": "Backtracking tries choices, explores recursively, backtracks to try next.",
      "example": "function backtrack(index, sum) { /* try + and - */ }",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Implement target sum in JS.",
      "example": "function findTargetSumWays(nums, target) {}",
      "action": "continue",
      "next": "coding-memo-js"
    },
    {
      "stepId": "coding-memo-js",
      "mentorSays": "Initialize memoization map.",
      "action": "continue",
      "next": "coding-helper-js"
    },
    {
      "stepId": "coding-helper-js",
      "mentorSays": "Create backtrack helper with index and current sum.",
      "action": "continue",
      "next": "coding-base-js"
    },
    {
      "stepId": "coding-base-js",
      "mentorSays": "Add base case: if index == nums.length, return 1 if sum == target else 0.",
      "action": "continue",
      "next": "coding-check-memo-js"
    },
    {
      "stepId": "coding-check-memo-js",
      "mentorSays": "Check memoization map, return if already computed.",
      "action": "continue",
      "next": "coding-add-js"
    },
    {
      "stepId": "coding-add-js",
      "mentorSays": "Try adding '+' (add nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-subtract-js"
    },
    {
      "stepId": "coding-subtract-js",
      "mentorSays": "Try adding '-' (subtract nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-store-js"
    },
    {
      "stepId": "coding-store-js",
      "mentorSays": "Store result in memo, return total count.",
      "action": "continue",
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "Call backtrack(0, 0) and return result.",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Test cases:\n1. nums=[1,1,1,1,1], target=3 → 5\n2. nums=[1], target=1 → 1\n3. nums=[1], target=2 → 0\n4. nums=[1,2,3], target=0 → 2\n5. Verify all ways are counted\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function findTargetSumWays() {}",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "backtracking-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "backtracking-check-python"
    },
    {
      "stepId": "backtracking-check-python",
      "mentorSays": "Do you know what backtracking is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain",
          "next": "backtracking-explanation-python"
        }
      ]
    },
    {
      "stepId": "backtracking-explanation-python",
      "mentorSays": "Backtracking tries choices, explores recursively, backtracks to try next.",
      "example": "function backtrack(index, sum) { /* try + and - */ }",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Implement target sum in PYTHON.",
      "example": "function findTargetSumWays(nums, target) {}",
      "action": "continue",
      "next": "coding-memo-python"
    },
    {
      "stepId": "coding-memo-python",
      "mentorSays": "Initialize memoization map.",
      "action": "continue",
      "next": "coding-helper-python"
    },
    {
      "stepId": "coding-helper-python",
      "mentorSays": "Create backtrack helper with index and current sum.",
      "action": "continue",
      "next": "coding-base-python"
    },
    {
      "stepId": "coding-base-python",
      "mentorSays": "Add base case: if index == nums.length, return 1 if sum == target else 0.",
      "action": "continue",
      "next": "coding-check-memo-python"
    },
    {
      "stepId": "coding-check-memo-python",
      "mentorSays": "Check memoization map, return if already computed.",
      "action": "continue",
      "next": "coding-add-python"
    },
    {
      "stepId": "coding-add-python",
      "mentorSays": "Try adding '+' (add nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-subtract-python"
    },
    {
      "stepId": "coding-subtract-python",
      "mentorSays": "Try adding '-' (subtract nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-store-python"
    },
    {
      "stepId": "coding-store-python",
      "mentorSays": "Store result in memo, return total count.",
      "action": "continue",
      "next": "coding-return-python"
    },
    {
      "stepId": "coding-return-python",
      "mentorSays": "Call backtrack(0, 0) and return result.",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Test cases:\n1. nums=[1,1,1,1,1], target=3 → 5\n2. nums=[1], target=1 → 1\n3. nums=[1], target=2 → 0\n4. nums=[1,2,3], target=0 → 2\n5. Verify all ways are counted\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Do you know what a function is in Java?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function findTargetSumWays() {}",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "backtracking-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "backtracking-check-java"
    },
    {
      "stepId": "backtracking-check-java",
      "mentorSays": "Do you know what backtracking is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain",
          "next": "backtracking-explanation-java"
        }
      ]
    },
    {
      "stepId": "backtracking-explanation-java",
      "mentorSays": "Backtracking tries choices, explores recursively, backtracks to try next.",
      "example": "function backtrack(index, sum) { /* try + and - */ }",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Implement target sum in JAVA.",
      "example": "function findTargetSumWays(nums, target) {}",
      "action": "continue",
      "next": "coding-memo-java"
    },
    {
      "stepId": "coding-memo-java",
      "mentorSays": "Initialize memoization map.",
      "action": "continue",
      "next": "coding-helper-java"
    },
    {
      "stepId": "coding-helper-java",
      "mentorSays": "Create backtrack helper with index and current sum.",
      "action": "continue",
      "next": "coding-base-java"
    },
    {
      "stepId": "coding-base-java",
      "mentorSays": "Add base case: if index == nums.length, return 1 if sum == target else 0.",
      "action": "continue",
      "next": "coding-check-memo-java"
    },
    {
      "stepId": "coding-check-memo-java",
      "mentorSays": "Check memoization map, return if already computed.",
      "action": "continue",
      "next": "coding-add-java"
    },
    {
      "stepId": "coding-add-java",
      "mentorSays": "Try adding '+' (add nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-subtract-java"
    },
    {
      "stepId": "coding-subtract-java",
      "mentorSays": "Try adding '-' (subtract nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-store-java"
    },
    {
      "stepId": "coding-store-java",
      "mentorSays": "Store result in memo, return total count.",
      "action": "continue",
      "next": "coding-return-java"
    },
    {
      "stepId": "coding-return-java",
      "mentorSays": "Call backtrack(0, 0) and return result.",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Test cases:\n1. nums=[1,1,1,1,1], target=3 → 5\n2. nums=[1], target=1 → 1\n3. nums=[1], target=2 → 0\n4. nums=[1,2,3], target=0 → 2\n5. Verify all ways are counted\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function findTargetSumWays() {}",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "backtracking-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "backtracking-check-cpp"
    },
    {
      "stepId": "backtracking-check-cpp",
      "mentorSays": "Do you know what backtracking is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain",
          "next": "backtracking-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "backtracking-explanation-cpp",
      "mentorSays": "Backtracking tries choices, explores recursively, backtracks to try next.",
      "example": "function backtrack(index, sum) { /* try + and - */ }",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Implement target sum in CPP.",
      "example": "function findTargetSumWays(nums, target) {}",
      "action": "continue",
      "next": "coding-memo-cpp"
    },
    {
      "stepId": "coding-memo-cpp",
      "mentorSays": "Initialize memoization map.",
      "action": "continue",
      "next": "coding-helper-cpp"
    },
    {
      "stepId": "coding-helper-cpp",
      "mentorSays": "Create backtrack helper with index and current sum.",
      "action": "continue",
      "next": "coding-base-cpp"
    },
    {
      "stepId": "coding-base-cpp",
      "mentorSays": "Add base case: if index == nums.length, return 1 if sum == target else 0.",
      "action": "continue",
      "next": "coding-check-memo-cpp"
    },
    {
      "stepId": "coding-check-memo-cpp",
      "mentorSays": "Check memoization map, return if already computed.",
      "action": "continue",
      "next": "coding-add-cpp"
    },
    {
      "stepId": "coding-add-cpp",
      "mentorSays": "Try adding '+' (add nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-subtract-cpp"
    },
    {
      "stepId": "coding-subtract-cpp",
      "mentorSays": "Try adding '-' (subtract nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-store-cpp"
    },
    {
      "stepId": "coding-store-cpp",
      "mentorSays": "Store result in memo, return total count.",
      "action": "continue",
      "next": "coding-return-cpp"
    },
    {
      "stepId": "coding-return-cpp",
      "mentorSays": "Call backtrack(0, 0) and return result.",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Test cases:\n1. nums=[1,1,1,1,1], target=3 → 5\n2. nums=[1], target=1 → 1\n3. nums=[1], target=2 → 0\n4. nums=[1,2,3], target=0 → 2\n5. Verify all ways are counted\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function findTargetSumWays() {}",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "backtracking-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "backtracking-check-ts"
    },
    {
      "stepId": "backtracking-check-ts",
      "mentorSays": "Do you know what backtracking is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain",
          "next": "backtracking-explanation-ts"
        }
      ]
    },
    {
      "stepId": "backtracking-explanation-ts",
      "mentorSays": "Backtracking tries choices, explores recursively, backtracks to try next.",
      "example": "function backtrack(index, sum) { /* try + and - */ }",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Implement target sum in TS.",
      "example": "function findTargetSumWays(nums, target) {}",
      "action": "continue",
      "next": "coding-memo-ts"
    },
    {
      "stepId": "coding-memo-ts",
      "mentorSays": "Initialize memoization map.",
      "action": "continue",
      "next": "coding-helper-ts"
    },
    {
      "stepId": "coding-helper-ts",
      "mentorSays": "Create backtrack helper with index and current sum.",
      "action": "continue",
      "next": "coding-base-ts"
    },
    {
      "stepId": "coding-base-ts",
      "mentorSays": "Add base case: if index == nums.length, return 1 if sum == target else 0.",
      "action": "continue",
      "next": "coding-check-memo-ts"
    },
    {
      "stepId": "coding-check-memo-ts",
      "mentorSays": "Check memoization map, return if already computed.",
      "action": "continue",
      "next": "coding-add-ts"
    },
    {
      "stepId": "coding-add-ts",
      "mentorSays": "Try adding '+' (add nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-subtract-ts"
    },
    {
      "stepId": "coding-subtract-ts",
      "mentorSays": "Try adding '-' (subtract nums[index]), recurse, get count.",
      "action": "continue",
      "next": "coding-store-ts"
    },
    {
      "stepId": "coding-store-ts",
      "mentorSays": "Store result in memo, return total count.",
      "action": "continue",
      "next": "coding-return-ts"
    },
    {
      "stepId": "coding-return-ts",
      "mentorSays": "Call backtrack(0, 0) and return result.",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Test cases:\n1. nums=[1,1,1,1,1], target=3 → 5\n2. nums=[1], target=1 → 1\n3. nums=[1], target=2 → 0\n4. nums=[1,2,3], target=0 → 2\n5. Verify all ways are counted\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "Time: O(n * sum), Space: O(n * sum). Use backtracking with memoization to count ways.",
      "action": "continue"
    }
  ]
}