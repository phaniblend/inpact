{
  "id": "non-overlapping-intervals",
  "title": "Non-overlapping Intervals",
  "pattern": "greedy",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what Non-overlapping Intervals asks for\n2. Find minimum intervals to remove\n3. Use greedy approach\n4. Sort by end time\n5. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what Non-overlapping Intervals is asking.\n\n**Problem Definition:**\nGiven an array of intervals `intervals` where intervals[i] = [starti, endi], return the minimum number of intervals you need to remove to make the rest of the intervals non-overlapping.\n\n**Example 1:** intervals = [[1,2],[2,3],[3,4],[1,3]]\nRemove [1,3] to make non-overlapping\nAnswer: 1\n\n**Example 2:** intervals = [[1,2],[1,2],[1,2]]\nRemove 2 intervals\nAnswer: 2\n\n**Key Insight:** Greedy approach. Sort by end time, keep intervals with earliest end times, remove overlapping ones.",
      "example": "Example: [[1,2],[2,3],[3,4],[1,3]] → remove 1, [[1,2],[1,2],[1,2]] → remove 2",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How would YOU find minimum intervals to remove?",
      "choices": [
        {
          "label": "Use greedy - sort by end time",
          "next": "explore-greedy"
        },
        {
          "label": "Use dynamic programming",
          "next": "explore-dp"
        },
        {
          "label": "Use brute force",
          "next": "explore-brute"
        }
      ]
    },
    {
      "stepId": "explore-dp",
      "mentorSays": "DP works but greedy is simpler and more efficient.",
      "action": "continue",
      "next": "explore-greedy"
    },
    {
      "stepId": "explore-brute",
      "mentorSays": "Brute force is exponential. Greedy is O(n log n) and optimal.",
      "action": "continue",
      "next": "explore-greedy"
    },
    {
      "stepId": "explore-greedy",
      "mentorSays": "Greedy is optimal. Sort by end time, keep intervals with earliest ends, count removals.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result = [];",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function eraseOverlapIntervals() {}",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "greedy-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are inputs to a function.",
      "action": "continue",
      "next": "greedy-check-js"
    },
    {
      "stepId": "greedy-check-js",
      "mentorSays": "Do you know what a greedy algorithm is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain",
          "next": "greedy-explanation-js"
        }
      ]
    },
    {
      "stepId": "greedy-explanation-js",
      "mentorSays": "Greedy makes locally optimal choice at each step. For intervals, keep earliest ending ones.",
      "example": "Sort by end time, keep interval with earliest end, remove overlapping ones.",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Implement non-overlapping intervals in JS.",
      "example": "function eraseOverlapIntervals(intervals) {}",
      "action": "continue",
      "next": "coding-sort-js"
    },
    {
      "stepId": "coding-sort-js",
      "mentorSays": "Sort intervals by end time.",
      "action": "continue",
      "next": "coding-init-js"
    },
    {
      "stepId": "coding-init-js",
      "mentorSays": "Initialize count and track last kept interval end time.",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Loop through intervals from index 1.",
      "action": "continue",
      "next": "coding-check-js"
    },
    {
      "stepId": "coding-check-js",
      "mentorSays": "If current overlaps with last kept (current.start < lastEnd), increment removal count.",
      "action": "continue",
      "next": "coding-update-js"
    },
    {
      "stepId": "coding-update-js",
      "mentorSays": "Otherwise, update last kept end time to current.end.",
      "action": "continue",
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "Return removal count.",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Test cases:\n1. [[1,2],[2,3],[3,4],[1,3]] → 1\n2. [[1,2],[1,2],[1,2]] → 2\n3. [[1,2],[2,3]] → 0\n4. [[1,100],[11,22],[1,11],[2,12]] → 2\n5. Verify minimum removals calculated\n6. Check edge cases",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "result = []",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Do you know what a function is in Python?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code.",
      "example": "def eraseOverlapIntervals(intervals):",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "greedy-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "greedy-check-python"
    },
    {
      "stepId": "greedy-check-python",
      "mentorSays": "Do you know what a greedy algorithm is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain",
          "next": "greedy-explanation-python"
        }
      ]
    },
    {
      "stepId": "greedy-explanation-python",
      "mentorSays": "Greedy makes locally optimal choice at each step. For intervals, keep earliest ending ones.",
      "example": "Sort by end time, keep interval with earliest end, remove overlapping ones.",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Implement non-overlapping intervals in PYTHON.",
      "example": "def eraseOverlapIntervals(intervals):",
      "next": "coding-sort-python"
    },
    {
      "stepId": "coding-sort-python",
      "mentorSays": "Sort intervals by end time.",
      "example": "",
      "next": "coding-init-python"
    },
    {
      "stepId": "coding-init-python",
      "mentorSays": "Initialize count and track last kept interval end time.",
      "example": "",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Loop through intervals from index 1.",
      "example": "",
      "next": "coding-check-python"
    },
    {
      "stepId": "coding-check-python",
      "mentorSays": "If current overlaps with last kept (current.start < lastEnd), increment removal count.",
      "example": "",
      "next": "coding-update-python"
    },
    {
      "stepId": "coding-update-python",
      "mentorSays": "Otherwise, update last kept end time to current.end.",
      "example": "",
      "next": "coding-return-python"
    },
    {
      "stepId": "coding-return-python",
      "mentorSays": "Return removal count.",
      "example": "",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Test cases:\n1. [[1,2],[2,3],[3,4],[1,3]] → 1\n2. [[1,2],[1,2],[1,2]] → 2\n3. [[1,2],[2,3]] → 0\n4. [[1,100],[11,22],[1,11],[2,12]] → 2\n5. Verify minimum removals calculated\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "List<Integer> result = new ArrayList<>();",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Do you know what a function is in Java?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A function is a reusable block of code.",
      "example": "public int eraseOverlapIntervals(String s) {}",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "greedy-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "greedy-check-java"
    },
    {
      "stepId": "greedy-check-java",
      "mentorSays": "Do you know what a greedy algorithm is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain",
          "next": "greedy-explanation-java"
        }
      ]
    },
    {
      "stepId": "greedy-explanation-java",
      "mentorSays": "Greedy makes locally optimal choice at each step. For intervals, keep earliest ending ones.",
      "example": "Sort by end time, keep interval with earliest end, remove overlapping ones.",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Implement non-overlapping intervals in JAVA.",
      "example": "public int eraseOverlapIntervals(String intervals) {}",
      "next": "coding-sort-java"
    },
    {
      "stepId": "coding-sort-java",
      "mentorSays": "Sort intervals by end time.",
      "example": "",
      "next": "coding-init-java"
    },
    {
      "stepId": "coding-init-java",
      "mentorSays": "Initialize count and track last kept interval end time.",
      "example": "",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Loop through intervals from index 1.",
      "example": "",
      "next": "coding-check-java"
    },
    {
      "stepId": "coding-check-java",
      "mentorSays": "If current overlaps with last kept (current.start < lastEnd), increment removal count.",
      "example": "",
      "next": "coding-update-java"
    },
    {
      "stepId": "coding-update-java",
      "mentorSays": "Otherwise, update last kept end time to current.end.",
      "example": "",
      "next": "coding-return-java"
    },
    {
      "stepId": "coding-return-java",
      "mentorSays": "Return removal count.",
      "example": "",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Test cases:\n1. [[1,2],[2,3],[3,4],[1,3]] → 1\n2. [[1,2],[1,2],[1,2]] → 2\n3. [[1,2],[2,3]] → 0\n4. [[1,100],[11,22],[1,11],[2,12]] → 2\n5. Verify minimum removals calculated\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "vector<int> result;",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Do you know what a function is in C++?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code.",
      "example": "int eraseOverlapIntervals(string s) {}",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "greedy-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "greedy-check-cpp"
    },
    {
      "stepId": "greedy-check-cpp",
      "mentorSays": "Do you know what a greedy algorithm is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain",
          "next": "greedy-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "greedy-explanation-cpp",
      "mentorSays": "Greedy makes locally optimal choice at each step. For intervals, keep earliest ending ones.",
      "example": "Sort by end time, keep interval with earliest end, remove overlapping ones.",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Implement non-overlapping intervals in CPP.",
      "example": "int eraseOverlapIntervals(string intervals) {}",
      "next": "coding-sort-cpp"
    },
    {
      "stepId": "coding-sort-cpp",
      "mentorSays": "Sort intervals by end time.",
      "example": "",
      "next": "coding-init-cpp"
    },
    {
      "stepId": "coding-init-cpp",
      "mentorSays": "Initialize count and track last kept interval end time.",
      "example": "",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Loop through intervals from index 1.",
      "example": "",
      "next": "coding-check-cpp"
    },
    {
      "stepId": "coding-check-cpp",
      "mentorSays": "If current overlaps with last kept (current.start < lastEnd), increment removal count.",
      "example": "",
      "next": "coding-update-cpp"
    },
    {
      "stepId": "coding-update-cpp",
      "mentorSays": "Otherwise, update last kept end time to current.end.",
      "example": "",
      "next": "coding-return-cpp"
    },
    {
      "stepId": "coding-return-cpp",
      "mentorSays": "Return removal count.",
      "example": "",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Test cases:\n1. [[1,2],[2,3],[3,4],[1,3]] → 1\n2. [[1,2],[1,2],[1,2]] → 2\n3. [[1,2],[2,3]] → 0\n4. [[1,100],[11,22],[1,11],[2,12]] → 2\n5. Verify minimum removals calculated\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Ts?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let result: number[] = [];",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Do you know what a function is in Ts?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function eraseOverlapIntervals(s: string): number {}",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "Do you know what parameters are?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "greedy-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "next": "greedy-check-ts"
    },
    {
      "stepId": "greedy-check-ts",
      "mentorSays": "Do you know what a greedy algorithm is?",
      "example": "",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain",
          "next": "greedy-explanation-ts"
        }
      ]
    },
    {
      "stepId": "greedy-explanation-ts",
      "mentorSays": "Greedy makes locally optimal choice at each step. For intervals, keep earliest ending ones.",
      "example": "Sort by end time, keep interval with earliest end, remove overlapping ones.",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Implement non-overlapping intervals in TS.",
      "example": "function eraseOverlapIntervals(intervals: string): number {}",
      "next": "coding-sort-ts"
    },
    {
      "stepId": "coding-sort-ts",
      "mentorSays": "Sort intervals by end time.",
      "example": "",
      "next": "coding-init-ts"
    },
    {
      "stepId": "coding-init-ts",
      "mentorSays": "Initialize count and track last kept interval end time.",
      "example": "",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Loop through intervals from index 1.",
      "example": "",
      "next": "coding-check-ts"
    },
    {
      "stepId": "coding-check-ts",
      "mentorSays": "If current overlaps with last kept (current.start < lastEnd), increment removal count.",
      "example": "",
      "next": "coding-update-ts"
    },
    {
      "stepId": "coding-update-ts",
      "mentorSays": "Otherwise, update last kept end time to current.end.",
      "example": "",
      "next": "coding-return-ts"
    },
    {
      "stepId": "coding-return-ts",
      "mentorSays": "Return removal count.",
      "example": "",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Test cases:\n1. [[1,2],[2,3],[3,4],[1,3]] → 1\n2. [[1,2],[1,2],[1,2]] → 2\n3. [[1,2],[2,3]] → 0\n4. [[1,100],[11,22],[1,11],[2,12]] → 2\n5. Verify minimum removals calculated\n6. Check edge cases",
      "example": "",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "Time: O(n log n), Space: O(1). Sort by end time, greedily keep earliest ending intervals.",
      "action": "continue"
    }
  ]
}