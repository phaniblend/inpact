{
  "id": "minimum-path-sum",
  "title": "Minimum Path Sum - Grid DP Optimization",
  "pattern": "grid-dp-minimization",
  "difficulty": "medium",
  "language": "javascript",
  "status": "AI-GENERATED-V2-DIRECT",
  "standardsVersion": "lessonStandards.v2-inpact",
  "curriculum": {
    "lessonNumber": 66,
    "tier": "MASTERY-I",
    "lessonOrderTag": "MASTERY-I-66",
    "introduces": [
      "grid-path-cost",
      "in-place-dp"
    ],
    "assumesAlreadyTaught": [
      "grid-dp",
      "dynamic-programming"
    ],
    "prerequisiteCheckRequired": true,
    "nextRecommended": [
      "decode-ways"
    ]
  },
  "pseudocode": [
    {
      "id": "ps1",
      "text": "Create DP grid same size as input"
    },
    {
      "id": "ps2",
      "text": "Set dp[0][0] = grid[0][0]"
    },
    {
      "id": "ps3",
      "text": "Fill first row with cumulative sums"
    },
    {
      "id": "ps4",
      "text": "Fill first column with cumulative sums"
    },
    {
      "id": "ps5",
      "text": "For each cell: dp[i][j] = grid[i][j] + min(top, left)"
    },
    {
      "id": "ps6",
      "text": "Return dp[m-1][n-1]"
    }
  ],
  "flow": [
    {
      "stepId": "objectives",
      "mentorSays": "# Welcome to Minimum Path Sum! üõ£Ô∏è\n\nFind the minimum cost path through a grid!\n\n## What You'll Master:\n- Grid DP optimization\n- Path cost minimization\n- Space-efficient solutions",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Which language?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "prereq-check-js"
        },
        {
          "label": "Python",
          "next": "prereq-check-python"
        },
        {
          "label": "Java",
          "next": "prereq-check-java"
        },
        {
          "label": "C++",
          "next": "prereq-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "prereq-check-ts"
        }
      ]
    },
    {
      "stepId": "prereq-check-js",
      "mentorSays": "Prerequisites: Grid DP, 2D arrays. Ready?",
      "choices": [
        {
          "label": "Yes!",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-js"
        },
        {
          "label": "Review",
          "next": "select-prereqs-js"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-js",
      "mentorSays": "Let me give you a quick refresher on the key concepts:\n\n**Arrays:** Use `[]` to create, `arr[i]` to access, `arr.length` for size.\n\n**Loops:** `for (let i = 0; i < arr.length; i++)` iterates through array.\n\n**Objects/Maps:** `const map = {}` creates a map. `map[key] = value` stores, `map[key]` retrieves.\n\n**Functions:** `function name(params) { return value; }` defines a function.\n\nLet's continue with the lesson!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-js",
      "mentorSays": "Here's a quick refresher on the key concepts you'll need:\n\n**Arrays:** `const arr = [1, 2, 3]` creates an array. `arr[0]` accesses first element.\n\n**Loops:** `for (let i = 0; i < arr.length; i++)` iterates through array.\n\n**Objects/Maps:** `const map = {}` creates a map. `map[key] = value` stores, `map[key]` retrieves, `key in map` checks existence.\n\n**Functions:** `function name(params) { return value; }` defines a function.\n\nLet's continue!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-python",
      "mentorSays": "Prerequisites: Grid DP, 2D arrays. Ready?",
      "choices": [
        {
          "label": "Yes!",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-python"
        },
        {
          "label": "Review",
          "next": "select-prereqs-python"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-python",
      "mentorSays": "Let me give you a quick refresher on the key concepts:\n\n**Lists:** Use `[]` to create, `lst[i]` to access, `len(lst)` for size.\n\n**Loops:** `for i in range(len(lst))` iterates through list.\n\n**Dictionaries:** `dict = {}` creates a dict. `dict[key] = value` stores, `dict[key]` retrieves.\n\n**Functions:** `def name(params): return value` defines a function.\n\nLet's continue with the lesson!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-python",
      "mentorSays": "Here's a quick refresher on the key concepts you'll need:\n\n**Lists:** `lst = [1, 2, 3]` creates a list. `lst[0]` accesses first element.\n\n**Loops:** `for i in range(len(lst))` iterates through list.\n\n**Dictionaries:** `dict = {}` creates a dict. `dict[key] = value` stores, `dict[key]` retrieves, `key in dict` checks existence.\n\n**Functions:** `def name(params): return value` defines a function.\n\nLet's continue!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-java",
      "mentorSays": "Prerequisites: Grid DP, 2D arrays. Ready?",
      "choices": [
        {
          "label": "Yes!",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-java"
        },
        {
          "label": "Review",
          "next": "select-prereqs-java"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-java",
      "mentorSays": "Let me give you a quick refresher on the key concepts:\n\n**Arrays:** Use `int[] arr = new int[size]` to create, `arr[i]` to access, `arr.length` for size.\n\n**Loops:** `for (int i = 0; i < arr.length; i++)` iterates through array.\n\n**HashMaps:** `Map<K, V> map = new HashMap<>()` creates a map. `map.put(key, value)` stores, `map.get(key)` retrieves.\n\n**Functions:** `public returnType name(params) { return value; }` defines a method.\n\nLet's continue with the lesson!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-java",
      "mentorSays": "Here's a quick refresher on the key concepts you'll need:\n\n**Arrays:** `int[] arr = {1, 2, 3}` creates an array. `arr[0]` accesses first element.\n\n**Loops:** `for (int i = 0; i < arr.length; i++)` iterates through array.\n\n**HashMaps:** `Map<K, V> map = new HashMap<>()` creates a map. `map.put(key, value)` stores, `map.get(key)` retrieves, `map.containsKey(key)` checks existence.\n\n**Functions:** `public returnType name(params) { return value; }` defines a method.\n\nLet's continue!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-cpp",
      "mentorSays": "Prerequisites: Grid DP, 2D arrays. Ready?",
      "choices": [
        {
          "label": "Yes!",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-cpp"
        },
        {
          "label": "Review",
          "next": "select-prereqs-cpp"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-cpp",
      "mentorSays": "Let me give you a quick refresher on the key concepts:\n\n**Arrays:** Use `vector<int> arr` to create, `arr[i]` to access, `arr.size()` for size.\n\n**Loops:** `for (int i = 0; i < arr.size(); i++)` iterates through array.\n\n**Maps:** `unordered_map<K, V> map` creates a map. `map[key] = value` stores, `map[key]` retrieves.\n\n**Functions:** `returnType name(params) { return value; }` defines a function.\n\nLet's continue with the lesson!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-cpp",
      "mentorSays": "Here's a quick refresher on the key concepts you'll need:\n\n**Vectors:** `vector<int> arr = {1, 2, 3}` creates a vector. `arr[0]` accesses first element.\n\n**Loops:** `for (int i = 0; i < arr.size(); i++)` iterates through vector.\n\n**Maps:** `unordered_map<K, V> map` creates a map. `map[key] = value` stores, `map[key]` retrieves, `map.count(key)` checks existence.\n\n**Functions:** `returnType name(params) { return value; }` defines a function.\n\nLet's continue!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-ts",
      "mentorSays": "Prerequisites: Grid DP, 2D arrays. Ready?",
      "choices": [
        {
          "label": "Yes!",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-ts"
        },
        {
          "label": "Review",
          "next": "select-prereqs-ts"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-ts",
      "mentorSays": "Let me give you a quick refresher on the key concepts:\n\n**Arrays:** Use `[]` to create, `arr[i]` to access, `arr.length` for size.\n\n**Loops:** `for (let i = 0; i < arr.length; i++)` iterates through array.\n\n**Maps:** `const map = new Map<K, V>()` creates a map. `map.set(key, value)` stores, `map.get(key)` retrieves.\n\n**Functions:** `function name(params): returnType { return value; }` defines a function.\n\nLet's continue with the lesson!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-ts",
      "mentorSays": "Here's a quick refresher on the key concepts you'll need:\n\n**Arrays:** `const arr: number[] = [1, 2, 3]` creates an array. `arr[0]` accesses first element.\n\n**Loops:** `for (let i = 0; i < arr.length; i++)` iterates through array.\n\n**Maps:** `const map = new Map<K, V>()` creates a map. `map.set(key, value)` stores, `map.get(key)` retrieves, `map.has(key)` checks existence.\n\n**Functions:** `function name(params): returnType { return value; }` defines a function.\n\nLet's continue!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "problem-understanding",
      "mentorSays": "# Minimum Path Sum\n\n**Analogy:** GPS finding cheapest route through toll roads.\n\nGiven m√ón grid of costs, find minimum cost path from top-left to bottom-right (only move right or down).",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How to find minimum path?",
      "choices": [
        {
          "label": "Try all paths",
          "next": "wrong"
        },
        {
          "label": "DP: min(from top, from left) + current",
          "next": "core-idea"
        }
      ]
    },
    {
      "stepId": "wrong",
      "mentorSays": "Too slow! DP is better.",
      "action": "next",
      "next": "core-idea"
    },
    {
      "stepId": "core-idea",
      "mentorSays": "# Key Insight!\n\ndp[i][j] = grid[i][j] + min(dp[i-1][j], dp[i][j-1])\n\nMinimum cost to reach any cell = current cost + minimum of (from above, from left).",
      "action": "next",
      "next": "walkthrough"
    },
    {
      "stepId": "walkthrough",
      "mentorSays": "# Example\n\nGrid:\n```\n1 3 1\n1 5 1\n4 2 1\n```\nMin path: 1‚Üí3‚Üí1‚Üí1‚Üí1 = 7",
      "action": "next",
      "next": "pseudocode-step"
    },
    {
      "stepId": "pseudocode-step",
      "mentorSays": "# Plan",
      "action": "next",
      "next": "coding-intro",
      "pseudocodeLineIds": [
        "ps1",
        "ps2",
        "ps3",
        "ps4",
        "ps5",
        "ps6"
      ]
    },
    {
      "stepId": "coding-intro",
      "mentorSays": "# Let's Code!",
      "action": "next",
      "next": "code-01"
    },
    {
      "stepId": "code-01",
      "mentorSays": "Setup:\n\n```javascript\nfunction minPathSum(grid) {\n    const m = grid.length, n = grid[0].length;\n    const dp = Array(m).fill(0).map(() => Array(n).fill(0));\n```",
      "action": "next",
      "next": "code-02",
      "example": "function minPathSum(grid) {\n    const m = grid.length, n = grid[0].length;\n    const dp = Array(m).fill(0).map(() => Array(n).fill(0));"
    },
    {
      "stepId": "code-02",
      "mentorSays": "Initialize first cell:\n\n```javascript\n    dp[0][0] = grid[0][0];\n```",
      "action": "next",
      "next": "code-03",
      "example": "    dp[0][0] = grid[0][0];"
    },
    {
      "stepId": "code-03",
      "mentorSays": "Fill first row:\n\n```javascript\n    for (let j = 1; j < n; j++) {\n        dp[0][j] = dp[0][j-1] + grid[0][j];\n    }\n```",
      "action": "next",
      "next": "code-04",
      "example": "    for (let j = 1; j < n; j++) {\n        dp[0][j] = dp[0][j-1] + grid[0][j];\n    }"
    },
    {
      "stepId": "code-04",
      "mentorSays": "Fill first column:\n\n```javascript\n    for (let i = 1; i < m; i++) {\n        dp[i][0] = dp[i-1][0] + grid[i][0];\n    }\n```",
      "action": "next",
      "next": "code-05",
      "example": "    for (let i = 1; i < m; i++) {\n        dp[i][0] = dp[i-1][0] + grid[i][0];\n    }"
    },
    {
      "stepId": "code-05",
      "mentorSays": "Fill remaining cells:\n\n```javascript\n    for (let i = 1; i < m; i++) {\n        for (let j = 1; j < n; j++) {\n            dp[i][j] = grid[i][j] + Math.min(dp[i-1][j], dp[i][j-1]);\n        }\n    }\n```",
      "action": "next",
      "next": "code-06",
      "example": "    for (let i = 1; i < m; i++) {\n        for (let j = 1; j < n; j++) {\n            dp[i][j] = grid[i][j] + Math.min(dp[i-1][j], dp[i][j-1]);\n        }\n    }"
    },
    {
      "stepId": "code-06",
      "mentorSays": "Return result:\n\n```javascript\n    return dp[m-1][n-1];\n}\n```",
      "action": "next",
      "next": "complexity-analysis",
      "example": "    return dp[m-1][n-1];\n}"
    },
    {
      "stepId": "complexity-analysis",
      "mentorSays": "# Complexity\n\nTime: O(m√ón)\nSpace: O(m√ón) - can optimize to O(n)!",
      "action": "next",
      "next": "edge-cases"
    },
    {
      "stepId": "edge-cases",
      "mentorSays": "# Edge Cases\n\n1. Single cell: return grid[0][0]\n2. Single row/column: sum all cells",
      "action": "next",
      "next": "common-mistakes"
    },
    {
      "stepId": "common-mistakes",
      "mentorSays": "### Common Mistakes\n\n1. **Off-by-one errors** - Check array bounds and loop conditions carefully\n2. **Edge cases** - Handle empty inputs, single elements, and boundary conditions\n3. **Wrong data structure** - Choose the right structure (array, map, set, etc.) for the problem\n4. **Incorrect loop conditions** - Ensure loops terminate correctly\n5. **Type errors** - Make sure variable types match expected operations",
      "action": "next",
      "next": "interview-talk-track"
    },
    {
      "stepId": "interview-talk-track",
      "mentorSays": "### Interview Talk Track (30 seconds)\n\n**How to explain this solution in an interview:**\n\n1. **\"I'll use the optimal approach for this problem\"**\n2. **\"The key insight is [problem-specific insight]\"**\n3. **\"I'll implement this by [main steps]\"**\n4. **\"This gives us [time complexity] time complexity with [space complexity] space\"**\n5. **\"The tradeoff is [any tradeoffs mentioned]\"**",
      "action": "next",
      "next": "wrap-up"
    },
    {
      "stepId": "wrap-up",
      "mentorSays": "# Complete! üéâ\n\nYou've mastered grid DP path optimization!\n\n**Follow-up variant:**\n\nHow would you modify this solution if [problem constraint changed]? What would be the new time/space complexity?",
      "action": "complete"
    }
  ]
}