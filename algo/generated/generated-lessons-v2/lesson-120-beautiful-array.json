{
  "id": "beautiful-array",
  "title": "Beautiful Array",
  "pattern": "divide and conquer",
  "difficulty": "medium",
  "language": "javascript",
  "status": "AI-GENERATED-V2-DIRECT",
  "standardsVersion": "lessonStandards.v2-inpact",
  "curriculum": {
    "lessonNumber": 120,
    "tier": "ULTIMATE",
    "lessonOrderTag": "ULTIMATE-120",
    "introduces": [
      "beautiful-array-construct",
      "parity-separation"
    ],
    "assumesAlreadyTaught": [
      "divide-conquer",
      "arrays"
    ],
    "prerequisiteCheckRequired": true,
    "nextRecommended": [
      "complete"
    ]
  },
  "pseudocode": [
    {
      "id": "ps1",
      "text": "Solve Beautiful Array step 1"
    },
    {
      "id": "ps2",
      "text": "Solve Beautiful Array step 2"
    },
    {
      "id": "ps3",
      "text": "Solve Beautiful Array step 3"
    },
    {
      "id": "ps4",
      "text": "Return result"
    }
  ],
  "flow": [
    {
      "stepId": "objectives",
      "mentorSays": "Hey! **Beautiful Array** - master divide and conquer!\n\nThis lesson teaches: beautiful-array-construct, parity-separation\n\nLet's dive in!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Which language?",
      "choices": [
        {
          "label": "üíõ JavaScript",
          "next": "prereq-check-js"
        },
        {
          "label": "üêç Python",
          "next": "prereq-check-python"
        },
        {
          "label": "‚òï Java",
          "next": "prereq-check-java"
        },
        {
          "label": "‚ö° C++",
          "next": "prereq-check-cpp"
        },
        {
          "label": "üíô TypeScript",
          "next": "prereq-check-ts"
        }
      ]
    },
    {
      "stepId": "prereq-check-js",
      "mentorSays": "Prerequisites: divide-conquer, arrays\n\nReady?",
      "choices": [
        {
          "label": "Yes",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-js"
        },
        {
          "label": "Some",
          "next": "select-prereqs-js"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-js",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-js",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-python",
      "mentorSays": "Prerequisites: divide-conquer, arrays\n\nReady?",
      "choices": [
        {
          "label": "Yes",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-python"
        },
        {
          "label": "Some",
          "next": "select-prereqs-python"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-python",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-python",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-java",
      "mentorSays": "Prerequisites: divide-conquer, arrays\n\nReady?",
      "choices": [
        {
          "label": "Yes",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-java"
        },
        {
          "label": "Some",
          "next": "select-prereqs-java"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-java",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-java",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-cpp",
      "mentorSays": "Prerequisites: divide-conquer, arrays\n\nReady?",
      "choices": [
        {
          "label": "Yes",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-cpp"
        },
        {
          "label": "Some",
          "next": "select-prereqs-cpp"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-cpp",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-cpp",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "prereq-check-ts",
      "mentorSays": "Prerequisites: divide-conquer, arrays\n\nReady?",
      "choices": [
        {
          "label": "Yes",
          "next": "problem-understanding"
        },
        {
          "label": "No",
          "next": "teach-prereqs-ts"
        },
        {
          "label": "Some",
          "next": "select-prereqs-ts"
        }
      ]
    },
    {
      "stepId": "teach-prereqs-ts",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "select-prereqs-ts",
      "mentorSays": "Let's quickly recap the basics you'll need for this problem.",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "problem-understanding",
      "mentorSays": "**Beautiful Array** problem description.\n\n[Full problem description to be added in Phase 2]\n\nThis uses divide and conquer.",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How to solve this efficiently?",
      "choices": [
        {
          "label": "Brute force approach",
          "next": "wrong-choice"
        },
        {
          "label": "Use divide and conquer",
          "next": "core-idea"
        }
      ]
    },
    {
      "stepId": "wrong-choice",
      "mentorSays": "Brute force won't be efficient!\n\nThe optimal approach is better.",
      "action": "next",
      "next": "core-idea"
    },
    {
      "stepId": "core-idea",
      "mentorSays": "The key insight: use divide and conquer.\n\n[Detailed explanation to be added in Phase 2]",
      "action": "next",
      "next": "walkthrough",
      "pseudocodeLineIds": [
        "ps1",
        "ps2"
      ]
    },
    {
      "stepId": "walkthrough",
      "mentorSays": "Example walkthrough:\n\n[Step-by-step trace to be added in Phase 2]",
      "action": "next",
      "next": "pseudocode-step",
      "pseudocodeLineIds": [
        "ps1",
        "ps2"
      ]
    },
    {
      "stepId": "pseudocode-step",
      "mentorSays": "Here's the algorithm:",
      "action": "next",
      "next": "coding-intro",
      "pseudocodeLineIds": [
        "ps1",
        "ps2",
        "ps3",
        "ps4"
      ]
    },
    {
      "stepId": "coding-intro",
      "mentorSays": "Let's code it step by step!",
      "action": "next",
      "next": "code-01"
    },
    {
      "stepId": "code-01",
      "mentorSays": "Initialize data structures.\n\n```javascript\nfunction solve() {\n  // Setup\n}\n```",
      "action": "next",
      "next": "code-02",
      "pseudocodeLineIds": [
        "ps1"
      ],
      "example": "// Initialize"
    },
    {
      "stepId": "code-02",
      "mentorSays": "Implement core logic.\n\n```javascript\nfunction solve() {\n  // Setup\n  // Main algorithm\n}\n```",
      "action": "next",
      "next": "code-03",
      "pseudocodeLineIds": [
        "ps2"
      ],
      "example": "// Core logic"
    },
    {
      "stepId": "code-03",
      "mentorSays": "Complete solution.\n\n```javascript\nfunction solve() {\n  // Full implementation\n  return result;\n}\n```",
      "action": "next",
      "next": "wrap-up",
      "pseudocodeLineIds": [
        "ps3",
        "ps4"
      ],
      "example": "return result;"
    },
    {
      "stepId": "wrap-up",
      "mentorSays": "### üéì Capstone: Pattern Mastery Summary\n\n**Congratulations!** You've completed all 120 lessons and mastered the full algorithm curriculum!\n\n**Pattern Mastery Summary:**\n\nThroughout this journey, you've mastered:\n\n1. **Foundation Patterns (Lessons 1-30):**\n   - Two pointers, hash maps, sliding windows\n   - Binary search, basic DP, tree traversals\n   - Pattern recognition fundamentals\n\n2. **Intermediate Patterns (Lessons 31-70):**\n   - Advanced sliding windows, graph algorithms\n   - Dynamic programming variations\n   - Complex tree and graph problems\n\n3. **Advanced Patterns (Lessons 71-120):**\n   - Interval DP, advanced graph algorithms\n   - String algorithms, optimization problems\n   - Competitive programming techniques\n\n**Compare with Similar Problems:**\n\n**Beautiful Array** shares patterns with:\n- **Divide and Conquer** problems (merge sort, quick sort)\n- **Array construction** problems (build array with constraints)\n- **Parity-based** problems (separate odd/even)\n\n**Key difference:** Beautiful Array requires maintaining a specific property (no middle element equals average of neighbors) through recursive construction.\n\n**Interview Framing:**\n\n**How to approach this in an interview:**\n\n1. **Recognize the pattern:** \"This is a divide-and-conquer construction problem\"\n2. **Identify the constraint:** \"We need to avoid certain triplets (i, j, k) where nums[j] = (nums[i] + nums[k]) / 2\"\n3. **Apply the insight:** \"Separate odd and even numbers, then recursively construct each half\"\n4. **Explain why it works:** \"Odd numbers can't form arithmetic progressions with even numbers\"\n5. **Complexity:** \"O(n) time and space - we process each element once\"\n\n**You're now ready for FAANG-level interviews!** üöÄ\n\nYou've built a complete toolkit of algorithmic patterns and problem-solving strategies. Keep practicing, and remember: pattern recognition + clear thinking = interview success!",
      "action": "complete"
    }
  ]
}