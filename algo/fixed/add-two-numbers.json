{
  "id": "add-two-numbers",
  "title": "Add Two Numbers",
  "pattern": "linked-list",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "objectives",
      "mentorSays": "Hey! Welcome to the Add Two Numbers lesson.\n\nIn this lesson, you'll learn a problem-solving pattern that shows up in coding interviews: **linked-list**.\n\nAfter this, you'll be able to:\n- Understand the Add Two Numbers problem\n- Recognize when to use the linked-list pattern\n- Build a complete solution step-by-step\n\nLet's dive in!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Before we dive into the problem, which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "prereq-check-js"
        },
        {
          "label": "Python",
          "next": "prereq-check-python"
        },
        {
          "label": "Java",
          "next": "prereq-check-java"
        },
        {
          "label": "C++",
          "next": "prereq-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "prereq-check-ts"
        }
      ]
    },
    {
      "stepId": "prereq-check-js",
      "mentorSays": "Great choice! Before we tackle this problem, let me make sure you have the building blocks.\n\nTo solve this in JavaScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n- **Objects** - How to work with linked structures\n\nDo you feel confident with these JavaScript concepts?",
      "choices": [
        {
          "label": "Yes, I know all of them",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-all-prereqs-js"
        },
        {
          "label": "I know some, not all",
          "next": "teach-all-prereqs-js"
        }
      ]
    },
    {
      "stepId": "prereq-check-python",
      "mentorSays": "Great choice! Before we tackle this problem, let me make sure you have the building blocks.\n\nTo solve this in Python, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n- **Objects** - How to work with linked structures\n\nDo you feel confident with these Python concepts?",
      "choices": [
        {
          "label": "Yes, I know all of them",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-all-prereqs-python"
        },
        {
          "label": "I know some, not all",
          "next": "teach-all-prereqs-python"
        }
      ]
    },
    {
      "stepId": "prereq-check-java",
      "mentorSays": "Great choice! Before we tackle this problem, let me make sure you have the building blocks.\n\nTo solve this in Java, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n- **Objects** - How to work with linked structures\n\nDo you feel confident with these Java concepts?",
      "choices": [
        {
          "label": "Yes, I know all of them",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-all-prereqs-java"
        },
        {
          "label": "I know some, not all",
          "next": "teach-all-prereqs-java"
        }
      ]
    },
    {
      "stepId": "prereq-check-cpp",
      "mentorSays": "Great choice! Before we tackle this problem, let me make sure you have the building blocks.\n\nTo solve this in C++, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n- **Objects** - How to work with linked structures\n\nDo you feel confident with these C++ concepts?",
      "choices": [
        {
          "label": "Yes, I know all of them",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-all-prereqs-cpp"
        },
        {
          "label": "I know some, not all",
          "next": "teach-all-prereqs-cpp"
        }
      ]
    },
    {
      "stepId": "prereq-check-ts",
      "mentorSays": "Great choice! Before we tackle this problem, let me make sure you have the building blocks.\n\nTo solve this in TypeScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n- **Objects** - How to work with linked structures\n\nDo you feel confident with these TypeScript concepts?",
      "choices": [
        {
          "label": "Yes, I know all of them",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-all-prereqs-ts"
        },
        {
          "label": "I know some, not all",
          "next": "teach-all-prereqs-ts"
        }
      ]
    },
    {
      "stepId": "teach-all-prereqs-js",
      "mentorSays": "Great! Let me teach you the JavaScript concepts you'll need.",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "example": "",
      "action": "continue",
      "choices": null,
      "next": "function-explanation-js"
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function addTwoNumbers(l1, l2) {\n  // Returns sum as linked list\n  return null;\n}",
      "action": "continue",
      "choices": null,
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "example": "",
      "action": "continue",
      "choices": null,
      "next": "loop-explanation-js"
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop runs code while a condition is true.\n\nFor example, 'while (l1 || l2 || carry)' means: keep going while at least one list has nodes OR there's a carry.",
      "example": "while (l1 || l2 || carry) {\n    // This code runs while we have digits to process\n    // Add digits and handle carry\n}",
      "action": "continue",
      "choices": null,
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-python",
      "mentorSays": "Let me explain the Python concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-java",
      "mentorSays": "Let me explain the Java concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-cpp",
      "mentorSays": "Let me explain the C++ concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-ts",
      "mentorSays": "Let me explain the TypeScript concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "problem-understanding",
      "mentorSays": "Perfect! Now let's understand what the Add Two Numbers problem asks for.\n\n[Detailed explanation will be added in Phase 2]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand the problem, how would YOU approach solving it?\n\nThink about it for a moment.",
      "choices": [
        {
          "label": "Check every possibility",
          "next": "explore-brute-force"
        },
        {
          "label": "Use a smarter approach",
          "next": "explore-optimal"
        },
        {
          "label": "I'm not sure, show me",
          "next": "explore-optimal"
        }
      ]
    },
    {
      "stepId": "explore-brute-force",
      "mentorSays": "The brute force approach would check every possibility.\n\nThis works but is usually slow (O(n squared) or worse).\n\nLet's look at a smarter approach!",
      "action": "continue",
      "next": "explore-optimal"
    },
    {
      "stepId": "explore-optimal",
      "mentorSays": "The optimal approach uses a smarter strategy to avoid unnecessary work.\n\n[Strategy details will be added in Phase 2]",
      "action": "continue",
      "next": "solution-finalized"
    },
    {
      "stepId": "solution-finalized",
      "mentorSays": "Perfect! We've explored the approach. Now let's code the optimal solution.\n\nReady to write some code?",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the add two numbers solution in JavaScript. We'll create a function that takes two linked lists and returns the sum as a linked list.",
      "example": "function addTwoNumbers(l1, l2) {\n  \n}",
      "action": "continue",
      "choices": null,
      "next": "coding-create-dummy-js"
    },
    {
      "stepId": "coding-create-dummy-js",
      "mentorSays": "First, create a dummy node. This simplifies our code by giving us a starting point to attach nodes to.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  \n}",
      "action": "continue",
      "choices": null,
      "next": "coding-init-carry-js"
    },
    {
      "stepId": "coding-init-carry-js",
      "mentorSays": "Initialize the carry variable to 0. We'll use this to track any carry from adding digits.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n}",
      "action": "continue",
      "choices": null,
      "next": "coding-while-loop-js"
    },
    {
      "stepId": "coding-while-loop-js",
      "mentorSays": "Create a while loop that continues while at least one list has nodes OR there's a carry. We need to process all digits and handle final carry.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    // Process digits here\n  }\n}",
      "action": "continue",
      "choices": null,
      "next": "coding-get-values-js"
    },
    {
      "stepId": "coding-get-values-js",
      "mentorSays": "Inside the loop, get the values from both lists. Use 0 if a list is null (exhausted).",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    // Get values from both lists (0 if null)\n    let val1 = l1 ? l1.val : 0;\n    let val2 = l2 ? l2.val : 0;\n    \n  }\n}",
      "action": "continue",
      "choices": null,
      "next": "coding-calculate-sum-js"
    },
    {
      "stepId": "coding-calculate-sum-js",
      "mentorSays": "Calculate the sum of the two digits plus the carry. Then calculate the digit to store (sum % 10) and the new carry (Math.floor(sum / 10)).",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    let val1 = l1 ? l1.val : 0;\n    let val2 = l2 ? l2.val : 0;\n    \n    // Calculate sum and carry\n    let sum = val1 + val2 + carry;\n    let digit = sum % 10;\n    carry = Math.floor(sum / 10);\n    \n  }\n}",
      "action": "continue",
      "choices": null,
      "next": "coding-create-node-js"
    },
    {
      "stepId": "coding-create-node-js",
      "mentorSays": "Create a new node with the calculated digit and attach it to current.next. Then move current forward.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    let val1 = l1 ? l1.val : 0;\n    let val2 = l2 ? l2.val : 0;\n    let sum = val1 + val2 + carry;\n    let digit = sum % 10;\n    carry = Math.floor(sum / 10);\n    \n    // Create new node and attach\n    current.next = new ListNode(digit);\n    current = current.next;\n    \n  }\n}",
      "action": "continue",
      "choices": null,
      "next": "coding-move-pointers-js"
    },
    {
      "stepId": "coding-move-pointers-js",
      "mentorSays": "Move both list pointers forward (if they're not null). This advances us to the next digit position.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    let val1 = l1 ? l1.val : 0;\n    let val2 = l2 ? l2.val : 0;\n    let sum = val1 + val2 + carry;\n    let digit = sum % 10;\n    carry = Math.floor(sum / 10);\n    \n    current.next = new ListNode(digit);\n    current = current.next;\n    \n    // Move pointers forward\n    if (l1) l1 = l1.next;\n    if (l2) l2 = l2.next;\n  }\n}",
      "action": "continue",
      "choices": null,
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "Finally, return dummy.next, which is the actual head of the result list.",
      "example": "function addTwoNumbers(l1, l2) {\n  let dummy = new ListNode(0);\n  let current = dummy;\n  let carry = 0;\n  \n  while (l1 || l2 || carry) {\n    let val1 = l1 ? l1.val : 0;\n    let val2 = l2 ? l2.val : 0;\n    let sum = val1 + val2 + carry;\n    let digit = sum % 10;\n    carry = Math.floor(sum / 10);\n    \n    current.next = new ListNode(digit);\n    current = current.next;\n    \n    if (l1) l1 = l1.next;\n    if (l2) l2 = l2.next;\n  }\n  \n  return dummy.next;\n}",
      "action": "continue",
      "choices": null,
      "next": "completion"
    },
    {
      "stepId": "completion",
      "mentorSays": "Congratulations! You just solved Add Two Numbers!\n\nWhat you've mastered:\n- Understanding the problem requirements\n- Choosing an efficient approach\n- Building a complete solution from scratch\n\nYou're now ready to tackle more algorithms. Keep going!",
      "action": "complete"
    }
  ],
  "migrated": true,
  "migration_version": "5.0-light-touch",
  "migration_date": "2025-12-30"
}