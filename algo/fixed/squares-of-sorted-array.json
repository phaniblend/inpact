{
  "id": "squares-of-sorted-array",
  "title": "Squares of Sorted Array",
  "pattern": "two-pointers",
  "difficulty": "easy",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "objectives",
      "mentorSays": "Hey! Welcome to the Squares of Sorted Array lesson.\n\nIn this lesson, you'll learn a problem-solving pattern that shows up in coding interviews.\n\nAfter this, you'll be able to:\n- Understand the Squares of Sorted Array problem\n- Recognize the two-pointers pattern\n- Build a complete solution step-by-step\n\nLet's dive in!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Before we dive into the problem, which programming language would you like to use?\n\nThis will help me make sure you have the right building blocks.",
      "choices": [
        {
          "label": "JavaScript",
          "next": "prereq-check-js"
        },
        {
          "label": "Python",
          "next": "prereq-check-python"
        },
        {
          "label": "Java",
          "next": "prereq-check-java"
        },
        {
          "label": "C++",
          "next": "prereq-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "prereq-check-ts"
        }
      ]
    },
    {
      "stepId": "prereq-check-js",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in JavaScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-js"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-js"
        }
      ]
    },
    {
      "stepId": "prereq-check-python",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in Python, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-python"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-python"
        }
      ]
    },
    {
      "stepId": "prereq-check-java",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in Java, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-java"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-java"
        }
      ]
    },
    {
      "stepId": "prereq-check-cpp",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in C++, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-cpp"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-cpp"
        }
      ]
    },
    {
      "stepId": "prereq-check-ts",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in TypeScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-ts"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-ts"
        }
      ]
    },
    {
      "stepId": "teach-all-prereqs-js",
      "mentorSays": "Great! Let me teach you the JavaScript concepts you'll need.",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "example": "",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "example": "",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop runs code repeatedly as long as a condition is true.\n\nFor example, 'while (left <= right)' means: keep running the code as long as left is less than or equal to right.",
      "example": "let i = 0;\nwhile (i < 3) {\n  console.log(i);\n  i++;\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "teach-all-prereqs-python",
      "mentorSays": "Let me explain the Python concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-java",
      "mentorSays": "Let me explain the Java concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-cpp",
      "mentorSays": "Let me explain the C++ concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-ts",
      "mentorSays": "Let me explain the TypeScript concepts you'll need.\n\n[Prerequisite teaching will be expanded in Phase 2]\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "problem-understanding",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what the Squares of Sorted Array problem asks for\n2. Use two pointers to handle negative numbers efficiently\n3. Build the result array from the end (largest to smallest)\n4. Implement the solution step by step in your chosen language",
      "example": null,
      "action": "continue",
      "next": "approach-exploration"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand the problem, how would YOU approach solving it?\n\nThink about it for a moment.",
      "choices": [
        {
          "label": "Check every possibility",
          "next": "explore-brute-force"
        },
        {
          "label": "Use a smarter approach",
          "next": "explore-optimal"
        },
        {
          "label": "I'm not sure, show me",
          "next": "explore-optimal"
        }
      ]
    },
    {
      "stepId": "explore-solution",
      "mentorSays": "Let me show you the optimal approach for this problem. [Strategy will be extracted from original lesson]",
      "action": "continue",
      "next": "solution-finalized"
    },
    {
      "stepId": "approach-exploration",
      "mentorSays": "Now that you understand the problem, let's think about how to solve it.\n\nWhat approach feels natural to you?",
      "choices": [
        {
          "label": "Try the straightforward approach first",
          "next": "explore-solution"
        },
        {
          "label": "Show me the optimal solution",
          "next": "explore-solution"
        }
      ]
    },
    {
      "stepId": "explore-brute-force",
      "mentorSays": "The brute force approach would check every possibility.\n\nThis works but is usually slow (O(n squared) or worse).\n\nLet's look at a smarter approach!",
      "action": "continue",
      "next": "explore-optimal"
    },
    {
      "stepId": "explore-optimal",
      "mentorSays": "The optimal approach uses a smarter strategy to avoid unnecessary work.\n\n[Strategy details will be added in Phase 2]",
      "action": "continue",
      "next": "solution-finalized"
    },
    {
      "stepId": "solution-finalized",
      "mentorSays": "Perfect! We've explored the approach. Now let's code the optimal solution.\n\nReady to write some code?",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the squares of sorted array solution in JavaScript. We'll create a function that takes a sorted array and returns an array of squares in sorted order.",
      "example": "function sortedSquares(nums) {\n  \n}",
      "action": "continue",
      "next": "coding-init-result-js"
    },
    {
      "stepId": "coding-init-result-js",
      "mentorSays": "First, create a result array of the same length as the input array. We'll fill this from the end (largest to smallest).",
      "example": "function sortedSquares(nums) {\n  // Create result array of same length\n  let result = new Array(nums.length);\n}",
      "action": "continue",
      "next": "coding-init-pointers-js"
    },
    {
      "stepId": "coding-init-pointers-js",
      "mentorSays": "Now, initialize our two pointers. left starts at 0 (beginning), right starts at the last index (end), and resultIndex starts at the last index (we'll build from the end).",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  \n  // Initialize pointers\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n}",
      "action": "continue",
      "next": "coding-while-loop-js"
    },
    {
      "stepId": "coding-while-loop-js",
      "mentorSays": "Create a while loop that continues as long as left <= right. This ensures we process all elements.",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  // Continue while pointers haven't crossed\n  while (left <= right) {\n    // Compare squares and place larger one\n  }\n}",
      "action": "continue",
      "next": "coding-calculate-squares-js"
    },
    {
      "stepId": "coding-calculate-squares-js",
      "mentorSays": "Inside the loop, calculate the squares of nums[left] and nums[right]. We'll compare these to determine which is larger.",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  while (left <= right) {\n    // Calculate squares\n    let leftSquare = nums[left] * nums[left];\n    let rightSquare = nums[right] * nums[right];\n    \n    // Compare and place logic here\n  }\n}",
      "action": "continue",
      "next": "coding-compare-squares-js"
    },
    {
      "stepId": "coding-compare-squares-js",
      "mentorSays": "Compare leftSquare and rightSquare to determine which is larger. This tells us which square should be placed at the current result index (since we're building from the end, we want the larger square first).",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  while (left <= right) {\n    let leftSquare = nums[left] * nums[left];\n    let rightSquare = nums[right] * nums[right];\n    \n    // Compare to decide which is larger\n    if (leftSquare > rightSquare) {\n      // leftSquare is larger - will place it\n    } else {\n      // rightSquare is larger or equal - will place it\n    }\n    \n    // Place and move logic here\n  }\n}",
      "action": "continue",
      "next": "coding-place-and-move-js"
    },
    {
      "stepId": "coding-place-and-move-js",
      "mentorSays": "Now place the larger square at result[resultIndex] and move the appropriate pointer. If leftSquare was larger, place it and move left pointer right. Otherwise, place rightSquare and move right pointer left. Then decrement resultIndex to move to the next position.",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  while (left <= right) {\n    let leftSquare = nums[left] * nums[left];\n    let rightSquare = nums[right] * nums[right];\n    \n    // Place larger square at result end and move pointer\n    if (leftSquare > rightSquare) {\n      result[resultIndex] = leftSquare;\n      left++;\n    } else {\n      result[resultIndex] = rightSquare;\n      right--;\n    }\n    resultIndex--;\n  }\n}",
      "action": "continue",
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "After the loop completes, all elements have been processed. Return the result array, which now contains squares in sorted order.",
      "example": "function sortedSquares(nums) {\n  let result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  while (left <= right) {\n    let leftSquare = nums[left] * nums[left];\n    let rightSquare = nums[right] * nums[right];\n    \n    if (leftSquare > rightSquare) {\n      result[resultIndex] = leftSquare;\n      left++;\n    } else {\n      result[resultIndex] = rightSquare;\n      right--;\n    }\n    resultIndex--;\n  }\n  \n  return result;\n}",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "completion",
      "mentorSays": "ðŸŽ‰ **Congratulations!** You just solved Squares of Sorted Array!\n\n**What you've mastered:**\nâœ“ Understanding the problem requirements\nâœ“ Choosing an efficient approach\nâœ“ Building a complete solution from scratch\n\nYou're now ready to tackle more algorithms. Keep going! ðŸš€",
      "action": "complete"
    }
  ],
  "migrated": true,
  "migration_version": "5.0-light-touch",
  "migration_date": "2025-12-30"
}