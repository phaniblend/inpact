{
  "id": "contains-duplicate",
  "title": "Contains Duplicate",
  "pattern": "hash-map",
  "difficulty": "easy",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "objectives",
      "mentorSays": "Hey! Welcome to the Contains Duplicate lesson.\n\nIn this lesson, you'll learn a problem-solving pattern that shows up in coding interviews.\n\nAfter this, you'll be able to:\n- Understand the Contains Duplicate problem\n- Recognize the hash-map pattern\n- Build a complete solution step-by-step\n\nLet's dive in!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Before we dive into the problem, which programming language would you like to use?\n\nThis will help me make sure you have the right building blocks.",
      "choices": [
        {
          "label": "JavaScript",
          "next": "prereq-check-js"
        },
        {
          "label": "Python",
          "next": "prereq-check-python"
        },
        {
          "label": "Java",
          "next": "prereq-check-java"
        },
        {
          "label": "C++",
          "next": "prereq-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "prereq-check-ts"
        }
      ]
    },
    {
      "stepId": "prereq-check-js",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in JavaScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-js"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-js"
        }
      ]
    },
    {
      "stepId": "prereq-check-python",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in Python, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-python"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-python"
        }
      ]
    },
    {
      "stepId": "prereq-check-java",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in Java, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-java"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-java"
        }
      ]
    },
    {
      "stepId": "prereq-check-cpp",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in C++, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-cpp"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-cpp"
        }
      ]
    },
    {
      "stepId": "prereq-check-ts",
      "mentorSays": "Great choice! Before we start, let me make sure you have the building blocks.\n\nTo solve this problem in TypeScript, you'll need to know:\n- **Arrays** - How to store and access lists of values\n- **Loops** - How to iterate through data\n- **Conditionals** - How to make decisions in code\n\nDo you feel confident with these concepts?",
      "choices": [
        {
          "label": "Yes, I know them all",
          "next": "problem-understanding"
        },
        {
          "label": "No, please explain them",
          "next": "teach-prereqs-ts"
        },
        {
          "label": "I know some, not all",
          "next": "select-prereqs-ts"
        }
      ]
    },
    {
      "stepId": "teach-all-prereqs-js",
      "mentorSays": "Great! Let me teach you the JavaScript concepts you'll need.",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "example": "",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "example": "",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < nums.length; i++)' means: start at 0, keep going while i is less than the array length, and add 1 to i each time.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "teach-all-prereqs-python",
      "mentorSays": "Let me explain the Python concepts you'll need.\n\n**Sets in Python:** Use `set()` to create an empty set, and `in` operator to check membership.\n\n**Example:**\n```python\nseen = set()\nif num in seen:\n    return True\nseen.add(num)\n```\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-java",
      "mentorSays": "Let me explain the Java concepts you'll need.\n\n**Sets in Java:** Use `HashSet<Integer>` to create a set, and `contains()` method to check membership.\n\n**Example:**\n```java\nSet<Integer> seen = new HashSet<>();\nif (seen.contains(num)) return true;\nseen.add(num);\n```\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-cpp",
      "mentorSays": "Let me explain the C++ concepts you'll need.\n\n**Sets in C++:** Use `unordered_set<int>` to create a set, and `find()` or `count()` to check membership.\n\n**Example:**\n```cpp\nunordered_set<int> seen;\nif (seen.count(num)) return true;\nseen.insert(num);\n```\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "teach-all-prereqs-ts",
      "mentorSays": "Let me explain the TypeScript concepts you'll need.\n\n**Sets in TypeScript:** Use `Set<number>` to create a typed set, and `has()` method to check membership.\n\n**Example:**\n```typescript\nconst seen = new Set<number>();\nif (seen.has(num)) return true;\nseen.add(num);\n```\n\nFor now, let's continue to the problem!",
      "action": "continue",
      "next": "problem-understanding"
    },
    {
      "stepId": "problem-understanding",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what the Contains Duplicate problem asks for\n2. Use hash maps (or sets) to track seen elements efficiently\n3. Detect duplicates in O(n) time using a single pass\n4. Implement the solution step by step in your chosen language",
      "example": null,
      "action": "continue",
      "next": "approach-exploration"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand the problem, how would YOU approach solving it?\n\nThink about it for a moment.",
      "choices": [
        {
          "label": "Check every possibility",
          "next": "explore-brute-force"
        },
        {
          "label": "Use a smarter approach",
          "next": "explore-optimal"
        },
        {
          "label": "I'm not sure, show me",
          "next": "explore-optimal"
        }
      ]
    },
    {
      "stepId": "explore-solution",
      "mentorSays": "Let me show you the optimal approach for this problem. [Strategy will be extracted from original lesson]",
      "action": "continue",
      "next": "solution-finalized"
    },
    {
      "stepId": "explore-nested-loops",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll compare every pair of elements to see if any two are equal.\"\n\nFor nums = [1, 2, 3, 1]:\n- Compare (1,2), (1,3), (1,1) â†’ Found duplicate! âœ“\n\nThis works! However, it takes O(nÂ²) time because we check every pair.\n\nThere's a more efficient O(n) approach using a hash set. Would you like to learn that?",
      "example": "",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "approach-exploration",
      "mentorSays": "Now that you understand the problem, let's think about how to solve it.\n\nWhat approach feels natural to you?",
      "choices": [
        {
          "label": "Try the straightforward approach first",
          "next": "explore-solution"
        },
        {
          "label": "Show me the optimal solution",
          "next": "explore-solution"
        }
      ]
    },
    {
      "stepId": "explore-brute-force",
      "mentorSays": "The brute force approach would check every possibility.\n\nThis works but is usually slow (O(n squared) or worse).\n\nLet's look at a smarter approach!",
      "action": "continue",
      "next": "explore-optimal"
    },
    {
      "stepId": "explore-optimal",
      "mentorSays": "The optimal approach uses a **Set** to track numbers we've seen.\n\n**The idea:** As we iterate through the array, we check if we've seen the current number before. If yes, we found a duplicate!\n\nThis gives us O(n) time complexity with O(n) space.",
      "action": "continue",
      "next": "set-mental-model"
    },
    {
      "stepId": "set-mental-model",
      "mentorSays": "### Set Mental Model\n\n**Think of a Set as a \"memory\" of what you've seen:**\n\n- **Seen before?** â†’ duplicate found, return true\n- **Never seen?** â†’ store it in the set for future checks\n\n**Example walkthrough:**\n\nnums = [1, 2, 3, 1]\n\n- i=0, num=1: Not in set â†’ add to set: {1}\n- i=1, num=2: Not in set â†’ add to set: {1, 2}\n- i=2, num=3: Not in set â†’ add to set: {1, 2, 3}\n- i=3, num=1: **Already in set!** â†’ duplicate found!\n\n**Why this works:** Sets provide O(1) lookup time, making duplicate detection fast.",
      "action": "continue",
      "next": "solution-finalized"
    },
    {
      "stepId": "solution-finalized",
      "mentorSays": "Perfect! We've explored the approach. Now let's code the optimal solution.\n\nReady to write some code?",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the contains duplicate solution in JavaScript. We'll create a function that takes an array and returns true if it contains duplicates, false otherwise.",
      "example": "function containsDuplicate(nums) {\n  \n}",
      "action": "continue",
      "next": "coding-init-set-js"
    },
    {
      "stepId": "coding-init-set-js",
      "mentorSays": "First, let's create a Set to store numbers we've seen.",
      "example": "function containsDuplicate(nums) {\n  // Create a Set to track seen numbers\n  let seen = new Set();\n}",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Now, let's loop through the array. For each number, we'll check if we've seen it before.",
      "example": "function containsDuplicate(nums) {\n  let seen = new Set();\n  \n  // Loop through each number\n  for (let i = 0; i < nums.length; i++) {\n    // Check for duplicate\n  }\n}",
      "action": "continue",
      "next": "coding-check-duplicate-js"
    },
    {
      "stepId": "coding-check-duplicate-js",
      "mentorSays": "Inside the loop, check if the current number is already in the set. If it is, we found a duplicate!",
      "example": "function containsDuplicate(nums) {\n  let seen = new Set();\n  \n  for (let i = 0; i < nums.length; i++) {\n    // Check if we've seen this number before\n    if (seen.has(nums[i])) {\n      return true;  // Found duplicate!\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-add-to-set-js"
    },
    {
      "stepId": "coding-add-to-set-js",
      "mentorSays": "If we haven't seen the number before, add it to the set so we can check for it in future iterations.",
      "example": "function containsDuplicate(nums) {\n  let seen = new Set();\n  \n  for (let i = 0; i < nums.length; i++) {\n    if (seen.has(nums[i])) {\n      return true;\n    }\n    \n    // Add current number to set\n    seen.add(nums[i]);\n  }\n  \n  // No duplicates found\n  return false;\n}",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "common-mistakes",
      "mentorSays": "### Common Mistakes\n\n1. **Using array instead of Set** - Arrays have O(n) lookup, Sets have O(1)\n2. **Forgetting to add to set** - Must add number after checking, not before\n3. **Using `includes()` on array** - This is O(n) per check, making overall solution O(nÂ²)\n4. **Not handling empty array** - Edge case: empty array has no duplicates\n5. **Returning wrong value** - Return `true` for duplicates, `false` for no duplicates",
      "action": "continue",
      "next": "interview-talk-track"
    },
    {
      "stepId": "interview-talk-track",
      "mentorSays": "### Interview Talk Track (30 seconds)\n\n**How to explain this solution in an interview:**\n\n1. **\"I'll use a Set to track numbers I've seen as I iterate through the array\"**\n2. **\"For each number, I check if it's already in the set - if yes, we found a duplicate\"**\n3. **\"If not, I add it to the set for future checks\"**\n4. **\"Sets provide O(1) lookup time, giving us O(n) overall complexity\"**\n5. **\"This trades O(n) space for O(n) time, much better than O(nÂ²) brute force\"**",
      "action": "continue",
      "next": "completion"
    },
    {
      "stepId": "completion",
      "mentorSays": "ðŸŽ‰ **Congratulations!** You just solved Contains Duplicate!\n\n**What you've mastered:**\nâœ“ Understanding the problem requirements\nâœ“ Choosing an efficient approach\nâœ“ Building a complete solution from scratch\nâœ“ Set mental model: \"Seen before? â†’ duplicate\"\n\n**Follow-up variant:**\n\n**Contains Duplicate II:** Given an array and an integer k, find if there are two distinct indices i and j such that nums[i] == nums[j] and abs(i - j) <= k. How would you modify the Set approach?\n\nYou're now ready to tackle more algorithms. Keep going! ðŸš€",
      "action": "complete"
    }
  ],
  "migrated": true,
  "migration_version": "5.0-light-touch",
  "migration_date": "2025-12-30"
}