{
  "id": "quick-sort",
  "title": "Quick sort",
  "pattern": "sorting",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand how quick sort works using divide-and-conquer\n2. Select a pivot and partition the array\n3. Recursively sort the partitions\n4. Implement quick sort step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what Quick Sort does.\n\nImagine you have an unsorted array: [5, 2, 8, 1, 9, 3]\n\nYour task: Sort it in ascending order (smallest to largest).\n\nQuick sort uses a \"divide-and-conquer\" strategy:\n1. **Choose a pivot**: Pick an element (we'll use the last element)\n2. **Partition**: Rearrange the array so all elements smaller than pivot are on the left, and all elements larger are on the right\n3. **Recurse**: Recursively sort the left and right partitions\n\nLet's trace through the algorithm:\n\n**Initial**: [5, 2, 8, 1, 9, 3]\n- Pivot: 3 (last element)\n- Partition: Move elements < 3 to left, > 3 to right\n- After partition: [2, 1, 3, 5, 8, 9] (pivot at correct position)\n\n**Sort left partition [2, 1]**:\n- Pivot: 1 (last element)\n- Partition: [1, 2] (pivot at correct position)\n\n**Sort right partition [5, 8, 9]**:\n- Pivot: 9 (last element)\n- Partition: [5, 8, 9] (already in order)\n\n**Final**: [1, 2, 3, 5, 8, 9] (sorted!)\n\nThe key insight: after partitioning, the pivot is in its final sorted position!",
      "example": "nums = [5, 2, 8, 1, 9, 3]\n\nStep 1: Pivot = 3, Partition â†’ [2, 1, 3, 5, 8, 9]\nStep 2: Sort left [2, 1] â†’ Pivot = 1 â†’ [1, 2]\nStep 3: Sort right [5, 8, 9] â†’ Already sorted\n\nFinal: [1, 2, 3, 5, 8, 9]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what quick sort does, here's the real question:\n\nHow would YOU implement quick sort?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Use recursion: choose pivot, partition, then sort recursively",
          "next": "explore-recursion"
        },
        {
          "label": "Use iteration with a stack to avoid recursion",
          "next": "explore-iteration"
        },
        {
          "label": "Use a different pivot selection strategy",
          "next": "explore-pivot"
        }
      ]
    },
    {
      "stepId": "explore-iteration",
      "mentorSays": "Iterative quick sort using a stack is possible, but it's more complex. The recursive approach is more intuitive and easier to understand.\n\nLet's learn the standard recursive approach, which is the most common way to implement quick sort.",
      "action": "continue",
      "next": "explore-recursion"
    },
    {
      "stepId": "explore-pivot",
      "mentorSays": "There are several pivot selection strategies:\n- Last element (simple, but can be worst case for sorted arrays)\n- First element (similar issues)\n- Middle element (better average case)\n- Random element (best for avoiding worst case)\n\nFor learning, we'll use the last element as it's the simplest. Once you understand the algorithm, you can optimize the pivot selection.\n\nLet's learn the standard recursive approach with last element as pivot.",
      "action": "continue",
      "next": "explore-recursion"
    },
    {
      "stepId": "explore-recursion",
      "mentorSays": "Excellent choice! The recursive approach is the standard way to implement quick sort. Here's the core idea:\n\n1. **Base case**: If the array has 0 or 1 element, it's already sorted.\n2. **Choose pivot**: Pick the last element as the pivot.\n3. **Partition**: Rearrange the array so all elements < pivot are on the left, and all elements > pivot are on the right. The pivot ends up in its correct sorted position.\n4. **Recurse**: Recursively sort the left partition (elements < pivot) and right partition (elements > pivot).\n\nLet's trace this with [5, 2, 8, 1, 9, 3]:\n\n- **quickSort([5, 2, 8, 1, 9, 3], 0, 5)**:\n  - Pivot: 3 (last element)\n  - Partition: [2, 1, 3, 5, 8, 9] (pivot at index 2)\n  - Sort left [2, 1] â†’ [1, 2]\n  - Sort right [5, 8, 9] â†’ [5, 8, 9]\n  - Result: [1, 2, 3, 5, 8, 9]\n\n- **quickSort([2, 1], 0, 1)**:\n  - Pivot: 1 (last element)\n  - Partition: [1, 2] (pivot at index 0)\n  - Sort left: [] (base case)\n  - Sort right: [2] (base case)\n  - Result: [1, 2]\n\nThe partition function is key: it rearranges elements around the pivot and returns the pivot's final position.\n\nThis is O(n log n) average time, but O(nÂ²) worst case if pivot is always the smallest/largest. Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "main-variables-check-js"
        },
        {
          "label": "Python",
          "next": "main-variables-check-python"
        },
        {
          "label": "Java",
          "next": "main-variables-check-java"
        },
        {
          "label": "C++",
          "next": "main-variables-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "main-variables-check-ts"
        }
      ]
    },
    {
      "stepId": "main-variables-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "main-functions-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in JavaScript, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-js"
    },
    {
      "stepId": "main-functions-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-parameters-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-js"
    },
    {
      "stepId": "main-parameters-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-loops-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-js"
    },
    {
      "stepId": "main-loops-check-js",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-js",
      "mentorSays": "For quick sort, we'll use loops in the partition function to rearrange elements around the pivot. We'll also use recursion to sort the partitions.\n\nRecursion is when a function calls itself. For quick sort, we'll call quickSort on smaller and smaller partitions until we reach the base case (partition of size 0 or 1).",
      "example": "function quickSort(arr, low, high) {\n  // Base case: already sorted\n  if (low >= high) return;\n  \n  // Recursive case: partition and sort\n  const pivotIdx = partition(arr, low, high);\n  quickSort(arr, low, pivotIdx - 1);\n  quickSort(arr, pivotIdx + 1, high);\n}",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement quick sort in JavaScript. We'll need two functions:\n1. `quickSort` - the main recursive function\n2. `partition` - a helper function to partition the array around a pivot\n\nLet's start with the quickSort function.",
      "example": "function quickSort(arr, low, high) {\n  // Your code here\n}\n\nfunction partition(arr, low, high) {\n  // Helper function to partition around pivot\n}",
      "action": "continue",
      "next": "coding-base-case-js"
    },
    {
      "stepId": "coding-base-case-js",
      "mentorSays": "First, let's add the base case: if low >= high, the partition has 0 or 1 element, so it's already sorted.",
      "example": "function quickSort(arr, low, high) {\n  // Base case: partition of 0 or 1 element is already sorted\n  if (low >= high) {\n    return;\n  }\n}",
      "action": "continue",
      "next": "coding-partition-call-js"
    },
    {
      "stepId": "coding-partition-call-js",
      "mentorSays": "Now, let's call the partition function. It will rearrange elements around the pivot and return the pivot's final position.",
      "example": "function quickSort(arr, low, high) {\n  if (low >= high) {\n    return;\n  }\n  \n  // Partition and get pivot's final position\n  const pivotIdx = partition(arr, low, high);\n}",
      "action": "continue",
      "next": "coding-recursive-sort-js"
    },
    {
      "stepId": "coding-recursive-sort-js",
      "mentorSays": "Recursively sort the left partition (elements before pivot) and right partition (elements after pivot).",
      "example": "function quickSort(arr, low, high) {\n  if (low >= high) {\n    return;\n  }\n  \n  const pivotIdx = partition(arr, low, high);\n  \n  // Recursively sort left and right partitions\n  quickSort(arr, low, pivotIdx - 1);\n  quickSort(arr, pivotIdx + 1, high);\n}",
      "action": "continue",
      "next": "coding-partition-start-js"
    },
    {
      "stepId": "coding-partition-start-js",
      "mentorSays": "Now let's implement the partition helper function. This function rearranges elements so all elements < pivot are on the left, and all elements > pivot are on the right.",
      "example": "function partition(arr, low, high) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-choose-pivot-js"
    },
    {
      "stepId": "coding-choose-pivot-js",
      "mentorSays": "Choose the pivot. We'll use the last element (at index high) as the pivot.",
      "example": "function partition(arr, low, high) {\n  // Choose pivot (last element)\n  const pivot = arr[high];\n}",
      "action": "continue",
      "next": "coding-partition-init-js"
    },
    {
      "stepId": "coding-partition-init-js",
      "mentorSays": "Initialize a pointer i that tracks the position where elements smaller than pivot should go. Start at low - 1.",
      "example": "function partition(arr, low, high) {\n  const pivot = arr[high];\n  \n  // Pointer for smaller elements\n  let i = low - 1;\n}",
      "action": "continue",
      "next": "coding-partition-loop-js"
    },
    {
      "stepId": "coding-partition-loop-js",
      "mentorSays": "Loop through the array from low to high-1. If an element is smaller than the pivot, increment i and swap it with the element at position i.",
      "example": "function partition(arr, low, high) {\n  const pivot = arr[high];\n  let i = low - 1;\n  \n  // Move smaller elements to the left\n  for (let j = low; j < high; j++) {\n    if (arr[j] < pivot) {\n      i++;\n      [arr[i], arr[j]] = [arr[j], arr[i]];\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-place-pivot-js"
    },
    {
      "stepId": "coding-place-pivot-js",
      "mentorSays": "Finally, place the pivot in its correct position (after all smaller elements) and return its index.",
      "example": "function partition(arr, low, high) {\n  const pivot = arr[high];\n  let i = low - 1;\n  \n  for (let j = low; j < high; j++) {\n    if (arr[j] < pivot) {\n      i++;\n      [arr[i], arr[j]] = [arr[j], arr[i]];\n    }\n  }\n  \n  // Place pivot in correct position\n  [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];\n  return i + 1;\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [5, 2, 8, 1, 9, 3]\n\nAfter calling quickSort(arr, 0, arr.length - 1), the array should be:\n[1, 2, 3, 5, 8, 9]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [5, 2, 8, 1, 9, 3]\n\nAfter quickSort(arr, 0, 5):\narr = [1, 2, 3, 5, 8, 9]\n\nAll elements are sorted in ascending order.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "main-variables-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in Python, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-python"
    },
    {
      "stepId": "main-functions-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-python"
    },
    {
      "stepId": "main-parameters-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-python"
    },
    {
      "stepId": "main-loops-check-python",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-python"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "main-coding-start-python"
    },
    {
      "stepId": "main-variables-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in Java, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-java"
    },
    {
      "stepId": "main-functions-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-java",
      "mentorSays": "A method is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the method does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-java"
    },
    {
      "stepId": "main-parameters-check-java",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-java"
    },
    {
      "stepId": "main-loops-check-java",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-java"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Java runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "main-coding-start-java"
    },
    {
      "stepId": "main-variables-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in C++, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-cpp"
    },
    {
      "stepId": "main-functions-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-cpp"
    },
    {
      "stepId": "main-parameters-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-cpp"
    },
    {
      "stepId": "main-loops-check-cpp",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in C++ runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "main-coding-start-cpp"
    },
    {
      "stepId": "main-variables-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in TypeScript, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-ts"
    },
    {
      "stepId": "main-functions-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-ts"
    },
    {
      "stepId": "main-parameters-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-ts"
    },
    {
      "stepId": "main-loops-check-ts",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-ts"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in TypeScript runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "main-coding-start-ts"
    },
    {
      "stepId": "test-code",
      "mentorSays": "Perfect! Now try running your code with the example input. Test it to make sure it produces the expected output!",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've completed this lesson. Practice more to master this pattern!",
      "action": "continue"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [5, 2, 8, 1, 9, 3]\n\nAfter calling quick_sort(arr, 0, len(arr) - 1), the array should be:\n[1, 2, 3, 5, 8, 9]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [5, 2, 8, 1, 9, 3]\n\nAfter quick_sort(arr, 0, 5):\narr = [1, 2, 3, 5, 8, 9]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-place-pivot-python",
      "mentorSays": "Finally, place the pivot in its correct position (after all smaller elements) and return its index.",
      "example": "def partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    for j in range(low, high):\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]\n    \n    # Place pivot in correct position\n    arr[i + 1], arr[high] = arr[high], arr[i + 1]\n    return i + 1",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "coding-choose-pivot-python",
      "mentorSays": "Choose the pivot. We'll use the last element (at index high) as the pivot.",
      "example": "def partition(arr, low, high):\n    # Choose pivot (last element)\n    pivot = arr[high]",
      "action": "continue",
      "next": "coding-partition-init-python"
    },
    {
      "stepId": "coding-partition-init-python",
      "mentorSays": "Initialize a pointer i that tracks the position where elements smaller than pivot should go.",
      "example": "def partition(arr, low, high):\n    pivot = arr[high]\n    \n    # Pointer for smaller elements\n    i = low - 1",
      "action": "continue",
      "next": "coding-partition-loop-python"
    },
    {
      "stepId": "coding-partition-loop-python",
      "mentorSays": "Loop through the array from low to high-1. If an element is smaller than the pivot, increment i and swap it.",
      "example": "def partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    # Move smaller elements to the left\n    for j in range(low, high):\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]",
      "action": "continue",
      "next": "coding-place-pivot-python"
    },
    {
      "stepId": "coding-base-case-python",
      "mentorSays": "First, let's add the base case: if low >= high, the partition has 0 or 1 element, so it's already sorted.",
      "example": "def quick_sort(arr, low, high):\n    # Base case: partition of 0 or 1 element is already sorted\n    if low >= high:\n        return",
      "action": "continue",
      "next": "coding-partition-call-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement quick sort in Python. We'll need two functions:\n1. `quick_sort` - the main recursive function\n2. `partition` - a helper function to partition the array around a pivot\n\nLet's start with the quick_sort function.",
      "example": "def quick_sort(arr, low, high):\n    # Your code here\npass",
      "action": "continue",
      "next": "coding-base-case-python"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [5, 2, 8, 1, 9, 3]\n\nAfter calling quick_sort(arr, 0, len(arr) - 1), the array should be:\n[1, 2, 3, 5, 8, 9]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [5, 2, 8, 1, 9, 3]\n\nAfter quick_sort(arr, 0, 5):\narr = [1, 2, 3, 5, 8, 9]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-place-pivot-java",
      "mentorSays": "Finally, place the pivot in its correct position (after all smaller elements) and return its index.",
      "example": "public static void partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]\n    \n    // Place pivot in correct position\n    arr[i + 1], arr[high] = arr[high], arr[i + 1]\n    return i + 1",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "coding-partition-loop-java",
      "mentorSays": "Loop through the array from low to high-1. If an element is smaller than the pivot, increment i and swap it.",
      "example": "public static void partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    // Move smaller elements to the left\n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]",
      "action": "continue",
      "next": "coding-place-pivot-java"
    },
    {
      "stepId": "coding-partition-init-java",
      "mentorSays": "Initialize a pointer i that tracks the position where elements smaller than pivot should go.",
      "example": "public static void partition(arr, low, high):\n    pivot = arr[high]\n    \n    // Pointer for smaller elements\n    i = low - 1",
      "action": "continue",
      "next": "coding-partition-loop-java"
    },
    {
      "stepId": "coding-choose-pivot-java",
      "mentorSays": "Choose the pivot. We'll use the last element (at index high) as the pivot.",
      "example": "public static void partition(arr, low, high):\n    // Choose pivot (last element)\n    pivot = arr[high]",
      "action": "continue",
      "next": "coding-partition-init-java"
    },
    {
      "stepId": "coding-partition-start-java",
      "mentorSays": "Now let's implement the partition helper function.",
      "example": "public static void partition(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-choose-pivot-java"
    },
    {
      "stepId": "coding-recursive-sort-java",
      "mentorSays": "Recursively sort the left partition (elements before pivot) and right partition (elements after pivot).",
      "example": "public static void quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    pivot_idx = partition(arr, low, high)\n    \n    // Recursively sort left and right partitions\n    quick_sort(arr, low, pivot_idx - 1)\n    quick_sort(arr, pivot_idx + 1, high)",
      "action": "continue",
      "next": "coding-partition-start-java"
    },
    {
      "stepId": "coding-partition-call-java",
      "mentorSays": "Now, let's call the partition function. It will rearrange elements around the pivot and return the pivot's final position.",
      "example": "public static void quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    // Partition and get pivot's final position\n    pivot_idx = partition(arr, low, high)",
      "action": "continue",
      "next": "coding-recursive-sort-java"
    },
    {
      "stepId": "coding-base-case-java",
      "mentorSays": "First, let's add the base case: if low >= high, the partition has 0 or 1 element, so it's already sorted.",
      "example": "public static void quick_sort(arr, low, high):\n    // Base case: partition of 0 or 1 element is already sorted\n    if low >= high:\n        return",
      "action": "continue",
      "next": "coding-partition-call-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement quick sort in Java. We'll need two functions:\n1. `quick_sort` - the main recursive function\n2. `partition` - a helper function to partition the array around a pivot\n\nLet's start with the quick_sort function.",
      "example": "public static void quick_sort(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-base-case-java"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [5, 2, 8, 1, 9, 3]\n\nAfter calling quick_sort(arr, 0, len(arr) - 1), the array should be:\n[1, 2, 3, 5, 8, 9]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [5, 2, 8, 1, 9, 3]\n\nAfter quick_sort(arr, 0, 5):\narr = [1, 2, 3, 5, 8, 9]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-place-pivot-cpp",
      "mentorSays": "Finally, place the pivot in its correct position (after all smaller elements) and return its index.",
      "example": "void partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]\n    \n    // Place pivot in correct position\n    arr[i + 1], arr[high] = arr[high], arr[i + 1]\n    return i + 1",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "coding-partition-loop-cpp",
      "mentorSays": "Loop through the array from low to high-1. If an element is smaller than the pivot, increment i and swap it.",
      "example": "void partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    // Move smaller elements to the left\n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]",
      "action": "continue",
      "next": "coding-place-pivot-cpp"
    },
    {
      "stepId": "coding-partition-init-cpp",
      "mentorSays": "Initialize a pointer i that tracks the position where elements smaller than pivot should go.",
      "example": "void partition(arr, low, high):\n    pivot = arr[high]\n    \n    // Pointer for smaller elements\n    i = low - 1",
      "action": "continue",
      "next": "coding-partition-loop-cpp"
    },
    {
      "stepId": "coding-choose-pivot-cpp",
      "mentorSays": "Choose the pivot. We'll use the last element (at index high) as the pivot.",
      "example": "void partition(arr, low, high):\n    // Choose pivot (last element)\n    pivot = arr[high]",
      "action": "continue",
      "next": "coding-partition-init-cpp"
    },
    {
      "stepId": "coding-partition-start-cpp",
      "mentorSays": "Now let's implement the partition helper function.",
      "example": "void partition(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-choose-pivot-cpp"
    },
    {
      "stepId": "coding-recursive-sort-cpp",
      "mentorSays": "Recursively sort the left partition (elements before pivot) and right partition (elements after pivot).",
      "example": "void quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    pivot_idx = partition(arr, low, high)\n    \n    // Recursively sort left and right partitions\n    quick_sort(arr, low, pivot_idx - 1)\n    quick_sort(arr, pivot_idx + 1, high)",
      "action": "continue",
      "next": "coding-partition-start-cpp"
    },
    {
      "stepId": "coding-partition-call-cpp",
      "mentorSays": "Now, let's call the partition function. It will rearrange elements around the pivot and return the pivot's final position.",
      "example": "void quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    // Partition and get pivot's final position\n    pivot_idx = partition(arr, low, high)",
      "action": "continue",
      "next": "coding-recursive-sort-cpp"
    },
    {
      "stepId": "coding-base-case-cpp",
      "mentorSays": "First, let's add the base case: if low >= high, the partition has 0 or 1 element, so it's already sorted.",
      "example": "void quick_sort(arr, low, high):\n    // Base case: partition of 0 or 1 element is already sorted\n    if low >= high:\n        return",
      "action": "continue",
      "next": "coding-partition-call-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement quick sort in Cpp. We'll need two functions:\n1. `quick_sort` - the main recursive function\n2. `partition` - a helper function to partition the array around a pivot\n\nLet's start with the quick_sort function.",
      "example": "void quick_sort(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-base-case-cpp"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [5, 2, 8, 1, 9, 3]\n\nAfter calling quick_sort(arr, 0, len(arr) - 1), the array should be:\n[1, 2, 3, 5, 8, 9]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [5, 2, 8, 1, 9, 3]\n\nAfter quick_sort(arr, 0, 5):\narr = [1, 2, 3, 5, 8, 9]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-place-pivot-ts",
      "mentorSays": "Finally, place the pivot in its correct position (after all smaller elements) and return its index.",
      "example": "function partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]\n    \n    // Place pivot in correct position\n    arr[i + 1], arr[high] = arr[high], arr[i + 1]\n    return i + 1",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "coding-partition-loop-ts",
      "mentorSays": "Loop through the array from low to high-1. If an element is smaller than the pivot, increment i and swap it.",
      "example": "function partition(arr, low, high):\n    pivot = arr[high]\n    i = low - 1\n    \n    // Move smaller elements to the left\n    for j in low; j < high; j++:\n        if arr[j] < pivot:\n            i += 1\n            arr[i], arr[j] = arr[j], arr[i]",
      "action": "continue",
      "next": "coding-place-pivot-ts"
    },
    {
      "stepId": "coding-partition-init-ts",
      "mentorSays": "Initialize a pointer i that tracks the position where elements smaller than pivot should go.",
      "example": "function partition(arr, low, high):\n    pivot = arr[high]\n    \n    // Pointer for smaller elements\n    i = low - 1",
      "action": "continue",
      "next": "coding-partition-loop-ts"
    },
    {
      "stepId": "coding-choose-pivot-ts",
      "mentorSays": "Choose the pivot. We'll use the last element (at index high) as the pivot.",
      "example": "function partition(arr, low, high):\n    // Choose pivot (last element)\n    pivot = arr[high]",
      "action": "continue",
      "next": "coding-partition-init-ts"
    },
    {
      "stepId": "coding-partition-start-ts",
      "mentorSays": "Now let's implement the partition helper function.",
      "example": "function partition(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-choose-pivot-ts"
    },
    {
      "stepId": "coding-recursive-sort-ts",
      "mentorSays": "Recursively sort the left partition (elements before pivot) and right partition (elements after pivot).",
      "example": "function quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    pivot_idx = partition(arr, low, high)\n    \n    // Recursively sort left and right partitions\n    quick_sort(arr, low, pivot_idx - 1)\n    quick_sort(arr, pivot_idx + 1, high)",
      "action": "continue",
      "next": "coding-partition-start-ts"
    },
    {
      "stepId": "coding-partition-call-ts",
      "mentorSays": "Now, let's call the partition function. It will rearrange elements around the pivot and return the pivot's final position.",
      "example": "function quick_sort(arr, low, high):\n    if low >= high:\n        return\n    \n    // Partition and get pivot's final position\n    pivot_idx = partition(arr, low, high)",
      "action": "continue",
      "next": "coding-recursive-sort-ts"
    },
    {
      "stepId": "coding-base-case-ts",
      "mentorSays": "First, let's add the base case: if low >= high, the partition has 0 or 1 element, so it's already sorted.",
      "example": "function quick_sort(arr, low, high):\n    // Base case: partition of 0 or 1 element is already sorted\n    if low >= high:\n        return",
      "action": "continue",
      "next": "coding-partition-call-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement quick sort in TypeScript. We'll need two functions:\n1. `quick_sort` - the main recursive function\n2. `partition` - a helper function to partition the array around a pivot\n\nLet's start with the quick_sort function.",
      "example": "function quick_sort(arr, low, high):\n    // Your code here\n",
      "action": "continue",
      "next": "coding-base-case-ts"
    }
  ]
}