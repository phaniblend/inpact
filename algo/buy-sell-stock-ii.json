{
  "id": "buy-sell-stock-ii",
  "title": "Best Time to Buy and Sell Stock II",
  "pattern": "greedy",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what Buy and Sell Stock II asks for\n2. Use greedy approach to capture all profits\n3. Sum all positive price differences\n4. Make multiple transactions\n5. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what Best Time to Buy and Sell Stock II is asking.\n\n**Problem Definition:**\nYou are given an integer array `prices` where prices[i] is the price of a given stock on the ith day.\n\nOn each day, you may decide to buy and/or sell the stock. You can only hold at most one share of the stock at any time. However, you can buy it then immediately sell it on the same day.\n\nFind and return the maximum profit you can achieve.\n\n**Key Observations:**\n- You can make multiple transactions\n- You can buy and sell on the same day\n- Goal: maximize total profit\n- Greedy: capture every upward price movement\n\n**Example 1:** prices = [7,1,5,3,6,4]\n\nBuy at 1, sell at 5: profit = 4\nBuy at 3, sell at 6: profit = 3\nTotal profit = 4 + 3 = 7\n\nAnswer: 7\n\n**Example 2:** prices = [1,2,3,4,5]\n\nBuy at 1, sell at 5: profit = 4\n(Or buy at 1, sell at 2, buy at 2, sell at 3, etc. - same total profit)\n\nAnswer: 4\n\n**Step-by-step trace (Greedy approach):**\n\nprices = [7,1,5,3,6,4]\n\nWe'll sum all positive differences:\n- Day 0→1: 1-7 = -6 (skip)\n- Day 1→2: 5-1 = 4 (add to profit)\n- Day 2→3: 3-5 = -2 (skip)\n- Day 3→4: 6-3 = 3 (add to profit)\n- Day 4→5: 4-6 = -2 (skip)\n\nTotal profit = 4 + 3 = 7 ✓\n\n**Key Insight:**\n- We don't need to track exact buy/sell days!\n- Just sum all positive price differences\n- If price increases, we capture that profit\n- O(n) time, O(1) space\n\n**What makes this tricky:**\n1. Understanding that we can make multiple transactions\n2. Realizing we don't need to track exact buy/sell days\n3. The greedy insight: capture every upward movement\n4. Handling edge cases (decreasing prices, single day)\n\n**Common pitfalls:**\n- Trying to find optimal buy/sell days (unnecessary)\n- Not understanding that multiple transactions are allowed\n- Overcomplicating with DP when greedy works\n- Not handling edge cases",
      "example": "Example 1:\nprices=[7,1,5,3,6,4] → 7\n(Buy@1 sell@5, Buy@3 sell@6)\n\nExample 2:\nprices=[1,2,3,4,5] → 4\n(Buy@1 sell@5)\n\nExample 3:\nprices=[7,6,4,3,1] → 0\n(No profit possible)",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "How would you maximize profit with multiple transactions?",
      "choices": [
        {
          "label": "Use greedy - sum all positive differences",
          "next": "explore-greedy"
        },
        {
          "label": "Use DP - track best buy/sell days",
          "next": "explore-dp"
        },
        {
          "label": "Find all local minima and maxima",
          "next": "explore-peaks"
        }
      ]
    },
    {
      "stepId": "explore-dp",
      "mentorSays": "DP works but greedy is simpler! We just need to sum positive differences.",
      "action": "continue",
      "next": "explore-greedy"
    },
    {
      "stepId": "explore-peaks",
      "mentorSays": "Finding peaks works but greedy is more elegant! Just sum positive differences.",
      "action": "continue",
      "next": "explore-greedy"
    },
    {
      "stepId": "explore-greedy",
      "mentorSays": "Excellent! Greedy is optimal. Algorithm:\n1. Loop through prices\n2. If price[i] > price[i-1], add difference to profit\n3. Return total profit",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Which language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let profit = 0;",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function maxProfit(prices) {}",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "action": "continue",
      "next": "array-check-js"
    },
    {
      "stepId": "array-check-js",
      "mentorSays": "Do you know how to work with array?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain",
          "next": "array-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-explanation-js",
      "mentorSays": "An array stores a sequence of values. We access elements using indices like prices[i].",
      "example": "let prices = [7,1,5,3,6,4];\nprices[0]  // First element\nprices.length  // Array length",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "Do you know what loop is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop repeats code. We use a for loop to iterate through the prices array.",
      "example": "for (let i = 1; i < prices.length; i++) {\n    // Process prices[i]\n}",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Implement max profit in JS.",
      "example": "function maxProfit(prices) {}",
      "action": "continue",
      "next": "coding-init-js"
    },
    {
      "stepId": "coding-init-js",
      "mentorSays": "Initialize profit to 0.",
      "example": "function maxProfit(prices) {\n  let profit = 0;",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Loop through prices starting from index 1.",
      "example": "function maxProfit(prices) {\n  let profit = 0;\n  \n  for (let i = 1; i < prices.length; i++) {",
      "action": "continue",
      "next": "coding-check-increase-js"
    },
    {
      "stepId": "coding-check-increase-js",
      "mentorSays": "If price increased, add the difference to profit.",
      "example": "function maxProfit(prices) {\n  let profit = 0;\n  \n  for (let i = 1; i < prices.length; i++) {\n    if (prices[i] > prices[i - 1]) {",
      "action": "continue",
      "next": "coding-add-profit-js"
    },
    {
      "stepId": "coding-add-profit-js",
      "mentorSays": "Add the price difference to profit.",
      "example": "function maxProfit(prices) {\n  let profit = 0;\n  \n  for (let i = 1; i < prices.length; i++) {\n    if (prices[i] > prices[i - 1]) {\n      profit += prices[i] - prices[i - 1];",
      "action": "continue",
      "next": "coding-return-js"
    },
    {
      "stepId": "coding-return-js",
      "mentorSays": "Return the total profit.",
      "example": "function maxProfit(prices) {\n  let profit = 0;\n  \n  for (let i = 1; i < prices.length; i++) {\n    if (prices[i] > prices[i - 1]) {\n      profit += prices[i] - prices[i - 1];\n    }\n  }\n  \n  return profit;\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Test cases:\n1. prices=[7,1,5,3,6,4] → 7\n2. prices=[1,2,3,4,5] → 4\n3. prices=[7,6,4,3,1] → 0\n4. prices=[1] → 0\n5. prices=[1,5] → 4\n6. prices=[2,1,2,0,1] → 2",
      "example": "",
      "action": "continue",
      "next": "variable-check-python"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "profit = 0",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code.",
      "example": "def maxProfit(prices):",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "action": "continue",
      "next": "array-check-python"
    },
    {
      "stepId": "array-check-python",
      "mentorSays": "Do you know how to work with array?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain",
          "next": "array-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-explanation-python",
      "mentorSays": "An array stores a sequence of values. We access elements using indices like prices[i].",
      "example": "prices = [7,1,5,3,6,4]\nprices[0]  # First element\nlen(prices)  # Array length",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "Do you know what loop is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain",
          "next": "loop-explanation-python"
        }
      ]
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop repeats code. We use a for loop to iterate through the prices array.",
      "example": "for i in range(1, len(prices)):\n    # Process prices[i]",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Implement max profit in PYTHON.",
      "example": "def maxProfit(prices):",
      "action": "continue",
      "next": "coding-init-python"
    },
    {
      "stepId": "coding-init-python",
      "mentorSays": "Initialize profit to 0.",
      "example": "def maxProfit(prices):\n    profit = 0",
      "action": "continue",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Loop through prices starting from index 1.",
      "example": "def maxProfit(prices):\n    profit = 0\n    \n    for i in range(1, len(prices)):",
      "action": "continue",
      "next": "coding-check-increase-python"
    },
    {
      "stepId": "coding-check-increase-python",
      "mentorSays": "If price increased, add the difference to profit.",
      "example": "def maxProfit(prices):\n    profit = 0\n    \n    for i in range(1, len(prices)):\n        if prices[i] > prices[i - 1]:",
      "action": "continue",
      "next": "coding-add-profit-python"
    },
    {
      "stepId": "coding-add-profit-python",
      "mentorSays": "Add the price difference to profit.",
      "example": "def maxProfit(prices):\n    profit = 0\n    \n    for i in range(1, len(prices)):\n        if prices[i] > prices[i - 1]:\n            profit += prices[i] - prices[i - 1]",
      "action": "continue",
      "next": "coding-return-python"
    },
    {
      "stepId": "coding-return-python",
      "mentorSays": "Return the total profit.",
      "example": "def maxProfit(prices):\n    profit = 0\n    \n    for i in range(1, len(prices)):\n        if prices[i] > prices[i - 1]:\n            profit += prices[i] - prices[i - 1]\n    \n    return profit",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Test cases:\n1. prices=[7,1,5,3,6,4] → 7\n2. prices=[1,2,3,4,5] → 4\n3. prices=[7,6,4,3,1] → 0\n4. prices=[1] → 0\n5. prices=[1,5] → 4\n6. prices=[2,1,2,0,1] → 2",
      "example": "",
      "action": "continue",
      "next": "variable-check-java"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "int profit = 0;",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Do you know what a function is in Java?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A function is a reusable block of code.",
      "example": "public int maxProfit(int[] prices) {}",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "action": "continue",
      "next": "array-check-java"
    },
    {
      "stepId": "array-check-java",
      "mentorSays": "Do you know how to work with array?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain",
          "next": "array-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-explanation-java",
      "mentorSays": "An array stores a sequence of values. We access elements using indices like prices[i].",
      "example": "int[] prices = {7,1,5,3,6,4};\nprices[0]  // First element\nprices.length  // Array length",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "Do you know what loop is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain",
          "next": "loop-explanation-java"
        }
      ]
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop repeats code. We use a for loop to iterate through the prices array.",
      "example": "for (int i = 1; i < prices.length; i++) {\n    // Process prices[i]\n}",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Implement max profit in JAVA.",
      "example": "public int maxProfit(int[] prices) {}",
      "action": "continue",
      "next": "coding-init-java"
    },
    {
      "stepId": "coding-init-java",
      "mentorSays": "Initialize profit to 0.",
      "example": "public int maxProfit(int[] prices) {\n    int profit = 0;",
      "action": "continue",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Loop through prices starting from index 1.",
      "example": "public int maxProfit(int[] prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.length; i++) {",
      "action": "continue",
      "next": "coding-check-increase-java"
    },
    {
      "stepId": "coding-check-increase-java",
      "mentorSays": "If price increased, add the difference to profit.",
      "example": "public int maxProfit(int[] prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {",
      "action": "continue",
      "next": "coding-add-profit-java"
    },
    {
      "stepId": "coding-add-profit-java",
      "mentorSays": "Add the price difference to profit.",
      "example": "public int maxProfit(int[] prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];",
      "action": "continue",
      "next": "coding-return-java"
    },
    {
      "stepId": "coding-return-java",
      "mentorSays": "Return the total profit.",
      "example": "public int maxProfit(int[] prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];\n        }\n    }\n    \n    return profit;\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Test cases:\n1. prices=[7,1,5,3,6,4] → 7\n2. prices=[1,2,3,4,5] → 4\n3. prices=[7,6,4,3,1] → 0\n4. prices=[1] → 0\n5. prices=[1,5] → 4\n6. prices=[2,1,2,0,1] → 2",
      "example": "",
      "action": "continue",
      "next": "variable-check-cpp"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "int profit = 0;",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code.",
      "example": "int maxProfit(vector<int>& prices) {}",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "action": "continue",
      "next": "array-check-cpp"
    },
    {
      "stepId": "array-check-cpp",
      "mentorSays": "Do you know how to work with array?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain",
          "next": "array-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-explanation-cpp",
      "mentorSays": "An array stores a sequence of values. We access elements using indices like prices[i].",
      "example": "vector<int> prices = {7,1,5,3,6,4};\nprices[0]  // First element\nprices.size()  // Array length",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "Do you know what loop is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain",
          "next": "loop-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop repeats code. We use a for loop to iterate through the prices array.",
      "example": "for (int i = 1; i < prices.size(); i++) {\n    // Process prices[i]\n}",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Implement max profit in CPP.",
      "example": "int maxProfit(vector<int>& prices) {}",
      "action": "continue",
      "next": "coding-init-cpp"
    },
    {
      "stepId": "coding-init-cpp",
      "mentorSays": "Initialize profit to 0.",
      "example": "int maxProfit(vector<int>& prices) {\n    int profit = 0;",
      "action": "continue",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Loop through prices starting from index 1.",
      "example": "int maxProfit(vector<int>& prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.size(); i++) {",
      "action": "continue",
      "next": "coding-check-increase-cpp"
    },
    {
      "stepId": "coding-check-increase-cpp",
      "mentorSays": "If price increased, add the difference to profit.",
      "example": "int maxProfit(vector<int>& prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.size(); i++) {\n        if (prices[i] > prices[i - 1]) {",
      "action": "continue",
      "next": "coding-add-profit-cpp"
    },
    {
      "stepId": "coding-add-profit-cpp",
      "mentorSays": "Add the price difference to profit.",
      "example": "int maxProfit(vector<int>& prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.size(); i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];",
      "action": "continue",
      "next": "coding-return-cpp"
    },
    {
      "stepId": "coding-return-cpp",
      "mentorSays": "Return the total profit.",
      "example": "int maxProfit(vector<int>& prices) {\n    int profit = 0;\n    \n    for (int i = 1; i < prices.size(); i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];\n        }\n    }\n    \n    return profit;\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Test cases:\n1. prices=[7,1,5,3,6,4] → 7\n2. prices=[1,2,3,4,5] → 4\n3. prices=[7,6,4,3,1] → 0\n4. prices=[1] → 0\n5. prices=[1,5] → 4\n6. prices=[2,1,2,0,1] → 2",
      "example": "",
      "action": "continue",
      "next": "variable-check-ts"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value.",
      "example": "let profit: number = 0;",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code.",
      "example": "function maxProfit(prices: number[]): number {}",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "array-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are inputs to a function.",
      "example": "",
      "action": "continue",
      "next": "array-check-ts"
    },
    {
      "stepId": "array-check-ts",
      "mentorSays": "Do you know how to work with array?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain",
          "next": "array-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-explanation-ts",
      "mentorSays": "An array stores a sequence of values. We access elements using indices like prices[i].",
      "example": "let prices: number[] = [7,1,5,3,6,4];\nprices[0]  // First element\nprices.length  // Array length",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "Do you know what loop is?",
      "choices": [
        {
          "label": "Yes, I know",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain",
          "next": "loop-explanation-ts"
        }
      ]
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop repeats code. We use a for loop to iterate through the prices array.",
      "example": "for (let i = 1; i < prices.length; i++) {\n    // Process prices[i]\n}",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Implement max profit in TS.",
      "example": "function maxProfit(prices: number[]): number {}",
      "action": "continue",
      "next": "coding-init-ts"
    },
    {
      "stepId": "coding-init-ts",
      "mentorSays": "Initialize profit to 0.",
      "example": "function maxProfit(prices: number[]): number {\n    let profit: number = 0;",
      "action": "continue",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Loop through prices starting from index 1.",
      "example": "function maxProfit(prices: number[]): number {\n    let profit: number = 0;\n    \n    for (let i = 1; i < prices.length; i++) {",
      "action": "continue",
      "next": "coding-check-increase-ts"
    },
    {
      "stepId": "coding-check-increase-ts",
      "mentorSays": "If price increased, add the difference to profit.",
      "example": "function maxProfit(prices: number[]): number {\n    let profit: number = 0;\n    \n    for (let i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {",
      "action": "continue",
      "next": "coding-add-profit-ts"
    },
    {
      "stepId": "coding-add-profit-ts",
      "mentorSays": "Add the price difference to profit.",
      "example": "function maxProfit(prices: number[]): number {\n    let profit: number = 0;\n    \n    for (let i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];",
      "action": "continue",
      "next": "coding-return-ts"
    },
    {
      "stepId": "coding-return-ts",
      "mentorSays": "Return the total profit.",
      "example": "function maxProfit(prices: number[]): number {\n    let profit: number = 0;\n    \n    for (let i = 1; i < prices.length; i++) {\n        if (prices[i] > prices[i - 1]) {\n            profit += prices[i] - prices[i - 1];\n        }\n    }\n    \n    return profit;\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Test cases:\n1. prices=[7,1,5,3,6,4] → 7\n2. prices=[1,2,3,4,5] → 4\n3. prices=[7,6,4,3,1] → 0\n4. prices=[1] → 0\n5. prices=[1,5] → 4\n6. prices=[2,1,2,0,1] → 2",
      "example": "",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "Time: O(n), Space: O(1). Greedy approach captures all profits efficiently.\n\nRelated Problems:\n- Best Time to Buy and Sell Stock\n- Best Time to Buy and Sell Stock III\n- Best Time to Buy and Sell Stock with Cooldown",
      "action": "continue"
    }
  ]
}